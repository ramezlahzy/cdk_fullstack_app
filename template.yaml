Resources:
  SurveyRepo3A2687D2:
    Type: AWS::CodeCommit::Repository
    Properties:
      RepositoryDescription: Repository for the survey website
      RepositoryName: survey-website-repo
    UpdateReplacePolicy: Retain
    DeletionPolicy: Retain
    Metadata:
      aws:cdk:path: OdAppCdkStack/SurveyRepo/Resource
  SurveyRepoOdAppCdkStackSurveyWebsitePipeline5E38F65DEventRule7BF981A7:
    Type: AWS::Events::Rule
    Properties:
      EventPattern:
        source:
          - aws.codecommit
        resources:
          - Fn::GetAtt:
              - SurveyRepo3A2687D2
              - Arn
        detail-type:
          - CodeCommit Repository State Change
        detail:
          event:
            - referenceCreated
            - referenceUpdated
          referenceName:
            - main
      State: ENABLED
      Targets:
        - Arn:
            Fn::Join:
              - ""
              - - "arn:"
                - Ref: AWS::Partition
                - ":codepipeline:"
                - Ref: AWS::Region
                - ":"
                - Ref: AWS::AccountId
                - ":"
                - Ref: SurveyWebsitePipeline99FFC0F1
          Id: Target0
          RoleArn:
            Fn::GetAtt:
              - SurveyWebsitePipelineEventsRoleD1C4183B
              - Arn
    Metadata:
      aws:cdk:path: OdAppCdkStack/SurveyRepo/OdAppCdkStackSurveyWebsitePipeline5E38F65DEventRule/Resource
  WebsiteBucket75C24D94:
    Type: AWS::S3::Bucket
    Properties:
      PublicAccessBlockConfiguration:
        BlockPublicAcls: true
        IgnorePublicAcls: true
      WebsiteConfiguration:
        IndexDocument: index.html
    UpdateReplacePolicy: Delete
    DeletionPolicy: Delete
    Metadata:
      aws:cdk:path: OdAppCdkStack/WebsiteBucket/Resource
  WebsiteBucketPolicyE10E3262:
    Type: AWS::S3::BucketPolicy
    Properties:
      Bucket:
        Ref: WebsiteBucket75C24D94
      PolicyDocument:
        Statement:
          - Action: s3:GetObject
            Effect: Allow
            Principal:
              AWS: "*"
            Resource:
              Fn::Join:
                - ""
                - - Fn::GetAtt:
                      - WebsiteBucket75C24D94
                      - Arn
                  - /*
        Version: "2012-10-17"
    Metadata:
      aws:cdk:path: OdAppCdkStack/WebsiteBucket/Policy/Resource
  WebsiteDistribution75DCDA0B:
    Type: AWS::CloudFront::Distribution
    Properties:
      DistributionConfig:
        CustomErrorResponses:
          - ErrorCachingMinTTL: 0
            ErrorCode: 404
            ResponseCode: 200
            ResponsePagePath: /index.html
        DefaultCacheBehavior:
          CachePolicyId: 658327ea-f89d-4fab-a63d-7e88639e58f6
          Compress: true
          TargetOriginId: OdAppCdkStackWebsiteDistributionOrigin15FC012CB
          ViewerProtocolPolicy: redirect-to-https
        Enabled: true
        HttpVersion: http2
        IPV6Enabled: true
        Origins:
          - CustomOriginConfig:
              OriginProtocolPolicy: http-only
              OriginSSLProtocols:
                - TLSv1.2
            DomainName:
              Fn::Select:
                - 2
                - Fn::Split:
                    - /
                    - Fn::GetAtt:
                        - WebsiteBucket75C24D94
                        - WebsiteURL
            Id: OdAppCdkStackWebsiteDistributionOrigin15FC012CB
    Metadata:
      aws:cdk:path: OdAppCdkStack/WebsiteDistribution/Resource
  SurveyIdentityPool:
    Type: AWS::Cognito::IdentityPool
    Properties:
      AllowUnauthenticatedIdentities: true
    Metadata:
      aws:cdk:path: OdAppCdkStack/SurveyIdentityPool
  SurveyCognitoDefaultUnauthenticatedRole0135C0D5:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRoleWithWebIdentity
            Condition:
              StringEquals:
                cognito-identity.amazonaws.com:aud:
                  Ref: SurveyIdentityPool
              ForAnyValue:StringLike:
                cognito-identity.amazonaws.com:amr: unauthenticated
            Effect: Allow
            Principal:
              Federated: cognito-identity.amazonaws.com
        Version: "2012-10-17"
    Metadata:
      aws:cdk:path: OdAppCdkStack/SurveyCognitoDefaultUnauthenticatedRole/Resource
  SurveyCognitoDefaultUnauthenticatedRoleDefaultPolicyE53BE387:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - dynamodb:GetItem
              - dynamodb:Query
            Effect: Allow
            Resource:
              Fn::Join:
                - ""
                - - "arn:"
                  - Ref: AWS::Partition
                  - ":dynamodb:"
                  - Ref: AWS::Region
                  - ":"
                  - Ref: AWS::AccountId
                  - :table/ClientTable
          - Action: dynamodb:PutItem
            Effect: Allow
            Resource:
              Fn::Join:
                - ""
                - - "arn:"
                  - Ref: AWS::Partition
                  - ":dynamodb:"
                  - Ref: AWS::Region
                  - ":"
                  - Ref: AWS::AccountId
                  - :table/responseTable
        Version: "2012-10-17"
      PolicyName: SurveyCognitoDefaultUnauthenticatedRoleDefaultPolicyE53BE387
      Roles:
        - Ref: SurveyCognitoDefaultUnauthenticatedRole0135C0D5
    Metadata:
      aws:cdk:path: OdAppCdkStack/SurveyCognitoDefaultUnauthenticatedRole/DefaultPolicy/Resource
  IdentityPoolRoleAttachment:
    Type: AWS::Cognito::IdentityPoolRoleAttachment
    Properties:
      IdentityPoolId:
        Ref: SurveyIdentityPool
      Roles:
        unauthenticated:
          Fn::GetAtt:
            - SurveyCognitoDefaultUnauthenticatedRole0135C0D5
            - Arn
    Metadata:
      aws:cdk:path: OdAppCdkStack/IdentityPoolRoleAttachment
  SurveyWebsitePipelineArtifactsBucket8843438A:
    Type: AWS::S3::Bucket
    Properties:
      BucketEncryption:
        ServerSideEncryptionConfiguration:
          - ServerSideEncryptionByDefault:
              SSEAlgorithm: aws:kms
      PublicAccessBlockConfiguration:
        BlockPublicAcls: true
        BlockPublicPolicy: true
        IgnorePublicAcls: true
        RestrictPublicBuckets: true
    UpdateReplacePolicy: Retain
    DeletionPolicy: Retain
    Metadata:
      aws:cdk:path: OdAppCdkStack/SurveyWebsitePipeline/ArtifactsBucket/Resource
  SurveyWebsitePipelineArtifactsBucketPolicy37929D51:
    Type: AWS::S3::BucketPolicy
    Properties:
      Bucket:
        Ref: SurveyWebsitePipelineArtifactsBucket8843438A
      PolicyDocument:
        Statement:
          - Action: s3:*
            Condition:
              Bool:
                aws:SecureTransport: "false"
            Effect: Deny
            Principal:
              AWS: "*"
            Resource:
              - Fn::GetAtt:
                  - SurveyWebsitePipelineArtifactsBucket8843438A
                  - Arn
              - Fn::Join:
                  - ""
                  - - Fn::GetAtt:
                        - SurveyWebsitePipelineArtifactsBucket8843438A
                        - Arn
                    - /*
        Version: "2012-10-17"
    Metadata:
      aws:cdk:path: OdAppCdkStack/SurveyWebsitePipeline/ArtifactsBucket/Policy/Resource
  SurveyWebsitePipelineRole0F7D639D:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: codepipeline.amazonaws.com
        Version: "2012-10-17"
    Metadata:
      aws:cdk:path: OdAppCdkStack/SurveyWebsitePipeline/Role/Resource
  SurveyWebsitePipelineRoleDefaultPolicy6E345E41:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - s3:Abort*
              - s3:DeleteObject*
              - s3:GetBucket*
              - s3:GetObject*
              - s3:List*
              - s3:PutObject
              - s3:PutObjectLegalHold
              - s3:PutObjectRetention
              - s3:PutObjectTagging
              - s3:PutObjectVersionTagging
            Effect: Allow
            Resource:
              - Fn::GetAtt:
                  - SurveyWebsitePipelineArtifactsBucket8843438A
                  - Arn
              - Fn::Join:
                  - ""
                  - - Fn::GetAtt:
                        - SurveyWebsitePipelineArtifactsBucket8843438A
                        - Arn
                    - /*
          - Action: sts:AssumeRole
            Effect: Allow
            Resource:
              - Fn::GetAtt:
                  - SurveyWebsitePipelineBuildCodeBuildCodePipelineActionRoleE9C913C4
                  - Arn
              - Fn::GetAtt:
                  - SurveyWebsitePipelineDeployS3DeployCodePipelineActionRole31CB3820
                  - Arn
              - Fn::GetAtt:
                  - SurveyWebsitePipelineSourceCodeCommitCodePipelineActionRoleAAE71CE0
                  - Arn
        Version: "2012-10-17"
      PolicyName: SurveyWebsitePipelineRoleDefaultPolicy6E345E41
      Roles:
        - Ref: SurveyWebsitePipelineRole0F7D639D
    Metadata:
      aws:cdk:path: OdAppCdkStack/SurveyWebsitePipeline/Role/DefaultPolicy/Resource
  SurveyWebsitePipeline99FFC0F1:
    Type: AWS::CodePipeline::Pipeline
    Properties:
      ArtifactStore:
        Location:
          Ref: SurveyWebsitePipelineArtifactsBucket8843438A
        Type: S3
      Name: survey-website-pipeline
      PipelineType: V2
      RoleArn:
        Fn::GetAtt:
          - SurveyWebsitePipelineRole0F7D639D
          - Arn
      Stages:
        - Actions:
            - ActionTypeId:
                Category: Source
                Owner: AWS
                Provider: CodeCommit
                Version: "1"
              Configuration:
                RepositoryName:
                  Fn::GetAtt:
                    - SurveyRepo3A2687D2
                    - Name
                BranchName: main
                PollForSourceChanges: false
              Name: CodeCommit
              OutputArtifacts:
                - Name: Artifact_Source_CodeCommit
              RoleArn:
                Fn::GetAtt:
                  - SurveyWebsitePipelineSourceCodeCommitCodePipelineActionRoleAAE71CE0
                  - Arn
              RunOrder: 1
          Name: Source
        - Actions:
            - ActionTypeId:
                Category: Build
                Owner: AWS
                Provider: CodeBuild
                Version: "1"
              Configuration:
                ProjectName:
                  Ref: SurveyBuildProject7FF6C804
              InputArtifacts:
                - Name: Artifact_Source_CodeCommit
              Name: CodeBuild
              OutputArtifacts:
                - Name: Artifact_Build_CodeBuild
              RoleArn:
                Fn::GetAtt:
                  - SurveyWebsitePipelineBuildCodeBuildCodePipelineActionRoleE9C913C4
                  - Arn
              RunOrder: 1
          Name: Build
        - Actions:
            - ActionTypeId:
                Category: Deploy
                Owner: AWS
                Provider: S3
                Version: "1"
              Configuration:
                BucketName:
                  Ref: WebsiteBucket75C24D94
                Extract: "true"
              InputArtifacts:
                - Name: Artifact_Build_CodeBuild
              Name: S3Deploy
              RoleArn:
                Fn::GetAtt:
                  - SurveyWebsitePipelineDeployS3DeployCodePipelineActionRole31CB3820
                  - Arn
              RunOrder: 1
          Name: Deploy
    DependsOn:
      - SurveyWebsitePipelineRoleDefaultPolicy6E345E41
      - SurveyWebsitePipelineRole0F7D639D
    Metadata:
      aws:cdk:path: OdAppCdkStack/SurveyWebsitePipeline/Resource
  SurveyWebsitePipelineSourceCodeCommitCodePipelineActionRoleAAE71CE0:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              AWS:
                Fn::Join:
                  - ""
                  - - "arn:"
                    - Ref: AWS::Partition
                    - ":iam::"
                    - Ref: AWS::AccountId
                    - :root
        Version: "2012-10-17"
    Metadata:
      aws:cdk:path: OdAppCdkStack/SurveyWebsitePipeline/Source/CodeCommit/CodePipelineActionRole/Resource
  SurveyWebsitePipelineSourceCodeCommitCodePipelineActionRoleDefaultPolicy1E488940:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - s3:Abort*
              - s3:DeleteObject*
              - s3:GetBucket*
              - s3:GetObject*
              - s3:List*
              - s3:PutObject
              - s3:PutObjectLegalHold
              - s3:PutObjectRetention
              - s3:PutObjectTagging
              - s3:PutObjectVersionTagging
            Effect: Allow
            Resource:
              - Fn::GetAtt:
                  - SurveyWebsitePipelineArtifactsBucket8843438A
                  - Arn
              - Fn::Join:
                  - ""
                  - - Fn::GetAtt:
                        - SurveyWebsitePipelineArtifactsBucket8843438A
                        - Arn
                    - /*
          - Action:
              - codecommit:CancelUploadArchive
              - codecommit:GetBranch
              - codecommit:GetCommit
              - codecommit:GetUploadArchiveStatus
              - codecommit:UploadArchive
            Effect: Allow
            Resource:
              Fn::GetAtt:
                - SurveyRepo3A2687D2
                - Arn
        Version: "2012-10-17"
      PolicyName: SurveyWebsitePipelineSourceCodeCommitCodePipelineActionRoleDefaultPolicy1E488940
      Roles:
        - Ref: SurveyWebsitePipelineSourceCodeCommitCodePipelineActionRoleAAE71CE0
    Metadata:
      aws:cdk:path: OdAppCdkStack/SurveyWebsitePipeline/Source/CodeCommit/CodePipelineActionRole/DefaultPolicy/Resource
  SurveyWebsitePipelineEventsRoleD1C4183B:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: events.amazonaws.com
        Version: "2012-10-17"
    Metadata:
      aws:cdk:path: OdAppCdkStack/SurveyWebsitePipeline/EventsRole/Resource
  SurveyWebsitePipelineEventsRoleDefaultPolicy319EBDAD:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action: codepipeline:StartPipelineExecution
            Effect: Allow
            Resource:
              Fn::Join:
                - ""
                - - "arn:"
                  - Ref: AWS::Partition
                  - ":codepipeline:"
                  - Ref: AWS::Region
                  - ":"
                  - Ref: AWS::AccountId
                  - ":"
                  - Ref: SurveyWebsitePipeline99FFC0F1
        Version: "2012-10-17"
      PolicyName: SurveyWebsitePipelineEventsRoleDefaultPolicy319EBDAD
      Roles:
        - Ref: SurveyWebsitePipelineEventsRoleD1C4183B
    Metadata:
      aws:cdk:path: OdAppCdkStack/SurveyWebsitePipeline/EventsRole/DefaultPolicy/Resource
  SurveyWebsitePipelineBuildCodeBuildCodePipelineActionRoleE9C913C4:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              AWS:
                Fn::Join:
                  - ""
                  - - "arn:"
                    - Ref: AWS::Partition
                    - ":iam::"
                    - Ref: AWS::AccountId
                    - :root
        Version: "2012-10-17"
    Metadata:
      aws:cdk:path: OdAppCdkStack/SurveyWebsitePipeline/Build/CodeBuild/CodePipelineActionRole/Resource
  SurveyWebsitePipelineBuildCodeBuildCodePipelineActionRoleDefaultPolicy0D222536:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - codebuild:BatchGetBuilds
              - codebuild:StartBuild
              - codebuild:StopBuild
            Effect: Allow
            Resource:
              Fn::GetAtt:
                - SurveyBuildProject7FF6C804
                - Arn
        Version: "2012-10-17"
      PolicyName: SurveyWebsitePipelineBuildCodeBuildCodePipelineActionRoleDefaultPolicy0D222536
      Roles:
        - Ref: SurveyWebsitePipelineBuildCodeBuildCodePipelineActionRoleE9C913C4
    Metadata:
      aws:cdk:path: OdAppCdkStack/SurveyWebsitePipeline/Build/CodeBuild/CodePipelineActionRole/DefaultPolicy/Resource
  SurveyWebsitePipelineDeployS3DeployCodePipelineActionRole31CB3820:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              AWS:
                Fn::Join:
                  - ""
                  - - "arn:"
                    - Ref: AWS::Partition
                    - ":iam::"
                    - Ref: AWS::AccountId
                    - :root
        Version: "2012-10-17"
    Metadata:
      aws:cdk:path: OdAppCdkStack/SurveyWebsitePipeline/Deploy/S3Deploy/CodePipelineActionRole/Resource
  SurveyWebsitePipelineDeployS3DeployCodePipelineActionRoleDefaultPolicy075050F0:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - s3:Abort*
              - s3:DeleteObject*
              - s3:PutObject
              - s3:PutObjectLegalHold
              - s3:PutObjectRetention
              - s3:PutObjectTagging
              - s3:PutObjectVersionTagging
            Effect: Allow
            Resource:
              - Fn::GetAtt:
                  - WebsiteBucket75C24D94
                  - Arn
              - Fn::Join:
                  - ""
                  - - Fn::GetAtt:
                        - WebsiteBucket75C24D94
                        - Arn
                    - /*
          - Action:
              - s3:GetBucket*
              - s3:GetObject*
              - s3:List*
            Effect: Allow
            Resource:
              - Fn::GetAtt:
                  - SurveyWebsitePipelineArtifactsBucket8843438A
                  - Arn
              - Fn::Join:
                  - ""
                  - - Fn::GetAtt:
                        - SurveyWebsitePipelineArtifactsBucket8843438A
                        - Arn
                    - /*
        Version: "2012-10-17"
      PolicyName: SurveyWebsitePipelineDeployS3DeployCodePipelineActionRoleDefaultPolicy075050F0
      Roles:
        - Ref: SurveyWebsitePipelineDeployS3DeployCodePipelineActionRole31CB3820
    Metadata:
      aws:cdk:path: OdAppCdkStack/SurveyWebsitePipeline/Deploy/S3Deploy/CodePipelineActionRole/DefaultPolicy/Resource
  SurveyBuildProjectRoleFDE01889:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: codebuild.amazonaws.com
        Version: "2012-10-17"
    Metadata:
      aws:cdk:path: OdAppCdkStack/SurveyBuildProject/Role/Resource
  SurveyBuildProjectRoleDefaultPolicy72960B4B:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - logs:CreateLogGroup
              - logs:CreateLogStream
              - logs:PutLogEvents
            Effect: Allow
            Resource:
              - Fn::Join:
                  - ""
                  - - "arn:"
                    - Ref: AWS::Partition
                    - ":logs:"
                    - Ref: AWS::Region
                    - ":"
                    - Ref: AWS::AccountId
                    - :log-group:/aws/codebuild/
                    - Ref: SurveyBuildProject7FF6C804
                    - :*
              - Fn::Join:
                  - ""
                  - - "arn:"
                    - Ref: AWS::Partition
                    - ":logs:"
                    - Ref: AWS::Region
                    - ":"
                    - Ref: AWS::AccountId
                    - :log-group:/aws/codebuild/
                    - Ref: SurveyBuildProject7FF6C804
          - Action:
              - codebuild:BatchPutCodeCoverages
              - codebuild:BatchPutTestCases
              - codebuild:CreateReport
              - codebuild:CreateReportGroup
              - codebuild:UpdateReport
            Effect: Allow
            Resource:
              Fn::Join:
                - ""
                - - "arn:"
                  - Ref: AWS::Partition
                  - ":codebuild:"
                  - Ref: AWS::Region
                  - ":"
                  - Ref: AWS::AccountId
                  - :report-group/
                  - Ref: SurveyBuildProject7FF6C804
                  - -*
          - Action:
              - s3:Abort*
              - s3:DeleteObject*
              - s3:GetBucket*
              - s3:GetObject*
              - s3:List*
              - s3:PutObject
              - s3:PutObjectLegalHold
              - s3:PutObjectRetention
              - s3:PutObjectTagging
              - s3:PutObjectVersionTagging
            Effect: Allow
            Resource:
              - Fn::GetAtt:
                  - SurveyWebsitePipelineArtifactsBucket8843438A
                  - Arn
              - Fn::Join:
                  - ""
                  - - Fn::GetAtt:
                        - SurveyWebsitePipelineArtifactsBucket8843438A
                        - Arn
                    - /*
        Version: "2012-10-17"
      PolicyName: SurveyBuildProjectRoleDefaultPolicy72960B4B
      Roles:
        - Ref: SurveyBuildProjectRoleFDE01889
    Metadata:
      aws:cdk:path: OdAppCdkStack/SurveyBuildProject/Role/DefaultPolicy/Resource
  SurveyBuildProject7FF6C804:
    Type: AWS::CodeBuild::Project
    Properties:
      Artifacts:
        Type: CODEPIPELINE
      Cache:
        Type: NO_CACHE
      EncryptionKey: alias/aws/s3
      Environment:
        ComputeType: BUILD_GENERAL1_SMALL
        Image: aws/codebuild/standard:5.0
        ImagePullCredentialsType: CODEBUILD
        PrivilegedMode: false
        Type: LINUX_CONTAINER
      ServiceRole:
        Fn::GetAtt:
          - SurveyBuildProjectRoleFDE01889
          - Arn
      Source:
        Type: CODEPIPELINE
    Metadata:
      aws:cdk:path: OdAppCdkStack/SurveyBuildProject/Resource
  ReportRepo7601D946:
    Type: AWS::CodeCommit::Repository
    Properties:
      RepositoryDescription: Repository for the report website
      RepositoryName: report-website-repo
    UpdateReplacePolicy: Retain
    DeletionPolicy: Retain
    Metadata:
      aws:cdk:path: OdAppCdkStack/ReportRepo/Resource
  ReportRepoOdAppCdkStackReportWebsitePipeline14F84BF6EventRule49677E15:
    Type: AWS::Events::Rule
    Properties:
      EventPattern:
        source:
          - aws.codecommit
        resources:
          - Fn::GetAtt:
              - ReportRepo7601D946
              - Arn
        detail-type:
          - CodeCommit Repository State Change
        detail:
          event:
            - referenceCreated
            - referenceUpdated
          referenceName:
            - main
      State: ENABLED
      Targets:
        - Arn:
            Fn::Join:
              - ""
              - - "arn:"
                - Ref: AWS::Partition
                - ":codepipeline:"
                - Ref: AWS::Region
                - ":"
                - Ref: AWS::AccountId
                - ":"
                - Ref: ReportWebsitePipeline6A2C97E9
          Id: Target0
          RoleArn:
            Fn::GetAtt:
              - ReportWebsitePipelineEventsRoleE4BBB815
              - Arn
    Metadata:
      aws:cdk:path: OdAppCdkStack/ReportRepo/OdAppCdkStackReportWebsitePipeline14F84BF6EventRule/Resource
  ReportBucket577F0FCD:
    Type: AWS::S3::Bucket
    Properties:
      PublicAccessBlockConfiguration:
        BlockPublicAcls: true
        IgnorePublicAcls: true
      WebsiteConfiguration:
        IndexDocument: index.html
    UpdateReplacePolicy: Delete
    DeletionPolicy: Delete
    Metadata:
      aws:cdk:path: OdAppCdkStack/ReportBucket/Resource
  ReportBucketPolicyA15D85AD:
    Type: AWS::S3::BucketPolicy
    Properties:
      Bucket:
        Ref: ReportBucket577F0FCD
      PolicyDocument:
        Statement:
          - Action: s3:GetObject
            Effect: Allow
            Principal:
              AWS: "*"
            Resource:
              Fn::Join:
                - ""
                - - Fn::GetAtt:
                      - ReportBucket577F0FCD
                      - Arn
                  - /*
        Version: "2012-10-17"
    Metadata:
      aws:cdk:path: OdAppCdkStack/ReportBucket/Policy/Resource
  NoCachePolicy1F71EC46:
    Type: AWS::CloudFront::CachePolicy
    Properties:
      CachePolicyConfig:
        DefaultTTL: 0
        MaxTTL: 0
        MinTTL: 0
        Name: NoCachePolicy
        ParametersInCacheKeyAndForwardedToOrigin:
          CookiesConfig:
            CookieBehavior: none
          EnableAcceptEncodingBrotli: false
          EnableAcceptEncodingGzip: false
          HeadersConfig:
            HeaderBehavior: none
          QueryStringsConfig:
            QueryStringBehavior: none
    Metadata:
      aws:cdk:path: OdAppCdkStack/NoCachePolicy/Resource
  ReportDistributionEE40F2D5:
    Type: AWS::CloudFront::Distribution
    Properties:
      DistributionConfig:
        CustomErrorResponses:
          - ErrorCachingMinTTL: 0
            ErrorCode: 404
            ResponseCode: 200
            ResponsePagePath: /index.html
        DefaultCacheBehavior:
          CachePolicyId:
            Ref: NoCachePolicy1F71EC46
          Compress: true
          TargetOriginId: OdAppCdkStackReportDistributionOrigin14E10DA3D
          ViewerProtocolPolicy: redirect-to-https
        Enabled: true
        HttpVersion: http2
        IPV6Enabled: true
        Origins:
          - CustomOriginConfig:
              OriginProtocolPolicy: http-only
              OriginSSLProtocols:
                - TLSv1.2
            DomainName:
              Fn::Select:
                - 2
                - Fn::Split:
                    - /
                    - Fn::GetAtt:
                        - ReportBucket577F0FCD
                        - WebsiteURL
            Id: OdAppCdkStackReportDistributionOrigin14E10DA3D
    Metadata:
      aws:cdk:path: OdAppCdkStack/ReportDistribution/Resource
  ReportIdentityPool:
    Type: AWS::Cognito::IdentityPool
    Properties:
      AllowUnauthenticatedIdentities: true
    Metadata:
      aws:cdk:path: OdAppCdkStack/ReportIdentityPool
  ReportCognitoDefaultUnauthenticatedRole6A1F1FDE:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRoleWithWebIdentity
            Condition:
              StringEquals:
                cognito-identity.amazonaws.com:aud:
                  Ref: ReportIdentityPool
              ForAnyValue:StringLike:
                cognito-identity.amazonaws.com:amr: unauthenticated
            Effect: Allow
            Principal:
              Federated: cognito-identity.amazonaws.com
        Version: "2012-10-17"
    Metadata:
      aws:cdk:path: OdAppCdkStack/ReportCognitoDefaultUnauthenticatedRole/Resource
  ReportCognitoDefaultUnauthenticatedRoleDefaultPolicyB5A9125D:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - dynamodb:GetItem
              - dynamodb:Query
            Effect: Allow
            Resource:
              Fn::Join:
                - ""
                - - "arn:"
                  - Ref: AWS::Partition
                  - ":dynamodb:"
                  - Ref: AWS::Region
                  - ":"
                  - Ref: AWS::AccountId
                  - :table/ClientTable
          - Action: dynamodb:PutItem
            Effect: Allow
            Resource:
              Fn::Join:
                - ""
                - - "arn:"
                  - Ref: AWS::Partition
                  - ":dynamodb:"
                  - Ref: AWS::Region
                  - ":"
                  - Ref: AWS::AccountId
                  - :table/responseTable
        Version: "2012-10-17"
      PolicyName: ReportCognitoDefaultUnauthenticatedRoleDefaultPolicyB5A9125D
      Roles:
        - Ref: ReportCognitoDefaultUnauthenticatedRole6A1F1FDE
    Metadata:
      aws:cdk:path: OdAppCdkStack/ReportCognitoDefaultUnauthenticatedRole/DefaultPolicy/Resource
  ReportIdentityPoolRoleAttachment:
    Type: AWS::Cognito::IdentityPoolRoleAttachment
    Properties:
      IdentityPoolId:
        Ref: ReportIdentityPool
      Roles:
        unauthenticated:
          Fn::GetAtt:
            - ReportCognitoDefaultUnauthenticatedRole6A1F1FDE
            - Arn
    Metadata:
      aws:cdk:path: OdAppCdkStack/ReportIdentityPoolRoleAttachment
  ReportWebsitePipelineArtifactsBucket2ADD38D8:
    Type: AWS::S3::Bucket
    Properties:
      BucketEncryption:
        ServerSideEncryptionConfiguration:
          - ServerSideEncryptionByDefault:
              SSEAlgorithm: aws:kms
      PublicAccessBlockConfiguration:
        BlockPublicAcls: true
        BlockPublicPolicy: true
        IgnorePublicAcls: true
        RestrictPublicBuckets: true
    UpdateReplacePolicy: Retain
    DeletionPolicy: Retain
    Metadata:
      aws:cdk:path: OdAppCdkStack/ReportWebsitePipeline/ArtifactsBucket/Resource
  ReportWebsitePipelineArtifactsBucketPolicyF0877C3E:
    Type: AWS::S3::BucketPolicy
    Properties:
      Bucket:
        Ref: ReportWebsitePipelineArtifactsBucket2ADD38D8
      PolicyDocument:
        Statement:
          - Action: s3:*
            Condition:
              Bool:
                aws:SecureTransport: "false"
            Effect: Deny
            Principal:
              AWS: "*"
            Resource:
              - Fn::GetAtt:
                  - ReportWebsitePipelineArtifactsBucket2ADD38D8
                  - Arn
              - Fn::Join:
                  - ""
                  - - Fn::GetAtt:
                        - ReportWebsitePipelineArtifactsBucket2ADD38D8
                        - Arn
                    - /*
        Version: "2012-10-17"
    Metadata:
      aws:cdk:path: OdAppCdkStack/ReportWebsitePipeline/ArtifactsBucket/Policy/Resource
  ReportWebsitePipelineRole9A16AC15:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: codepipeline.amazonaws.com
        Version: "2012-10-17"
    Metadata:
      aws:cdk:path: OdAppCdkStack/ReportWebsitePipeline/Role/Resource
  ReportWebsitePipelineRoleDefaultPolicy14A8B748:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - s3:Abort*
              - s3:DeleteObject*
              - s3:GetBucket*
              - s3:GetObject*
              - s3:List*
              - s3:PutObject
              - s3:PutObjectLegalHold
              - s3:PutObjectRetention
              - s3:PutObjectTagging
              - s3:PutObjectVersionTagging
            Effect: Allow
            Resource:
              - Fn::GetAtt:
                  - ReportWebsitePipelineArtifactsBucket2ADD38D8
                  - Arn
              - Fn::Join:
                  - ""
                  - - Fn::GetAtt:
                        - ReportWebsitePipelineArtifactsBucket2ADD38D8
                        - Arn
                    - /*
          - Action: sts:AssumeRole
            Effect: Allow
            Resource:
              - Fn::GetAtt:
                  - ReportWebsitePipelineBuildCodeBuildCodePipelineActionRoleAA789D50
                  - Arn
              - Fn::GetAtt:
                  - ReportWebsitePipelineDeployS3DeployCodePipelineActionRoleEE0B5796
                  - Arn
              - Fn::GetAtt:
                  - ReportWebsitePipelineSourceCodeCommitCodePipelineActionRole46690BCE
                  - Arn
        Version: "2012-10-17"
      PolicyName: ReportWebsitePipelineRoleDefaultPolicy14A8B748
      Roles:
        - Ref: ReportWebsitePipelineRole9A16AC15
    Metadata:
      aws:cdk:path: OdAppCdkStack/ReportWebsitePipeline/Role/DefaultPolicy/Resource
  ReportWebsitePipeline6A2C97E9:
    Type: AWS::CodePipeline::Pipeline
    Properties:
      ArtifactStore:
        Location:
          Ref: ReportWebsitePipelineArtifactsBucket2ADD38D8
        Type: S3
      Name: report-website-pipeline
      PipelineType: V2
      RoleArn:
        Fn::GetAtt:
          - ReportWebsitePipelineRole9A16AC15
          - Arn
      Stages:
        - Actions:
            - ActionTypeId:
                Category: Source
                Owner: AWS
                Provider: CodeCommit
                Version: "1"
              Configuration:
                RepositoryName:
                  Fn::GetAtt:
                    - ReportRepo7601D946
                    - Name
                BranchName: main
                PollForSourceChanges: false
              Name: CodeCommit
              OutputArtifacts:
                - Name: Artifact_Source_CodeCommit
              RoleArn:
                Fn::GetAtt:
                  - ReportWebsitePipelineSourceCodeCommitCodePipelineActionRole46690BCE
                  - Arn
              RunOrder: 1
          Name: Source
        - Actions:
            - ActionTypeId:
                Category: Build
                Owner: AWS
                Provider: CodeBuild
                Version: "1"
              Configuration:
                ProjectName:
                  Ref: ReportBuildProjectBDFA9491
              InputArtifacts:
                - Name: Artifact_Source_CodeCommit
              Name: CodeBuild
              OutputArtifacts:
                - Name: Artifact_Build_CodeBuild
              RoleArn:
                Fn::GetAtt:
                  - ReportWebsitePipelineBuildCodeBuildCodePipelineActionRoleAA789D50
                  - Arn
              RunOrder: 1
          Name: Build
        - Actions:
            - ActionTypeId:
                Category: Deploy
                Owner: AWS
                Provider: S3
                Version: "1"
              Configuration:
                BucketName:
                  Ref: ReportBucket577F0FCD
                Extract: "true"
              InputArtifacts:
                - Name: Artifact_Build_CodeBuild
              Name: S3Deploy
              RoleArn:
                Fn::GetAtt:
                  - ReportWebsitePipelineDeployS3DeployCodePipelineActionRoleEE0B5796
                  - Arn
              RunOrder: 1
          Name: Deploy
    DependsOn:
      - ReportWebsitePipelineRoleDefaultPolicy14A8B748
      - ReportWebsitePipelineRole9A16AC15
    Metadata:
      aws:cdk:path: OdAppCdkStack/ReportWebsitePipeline/Resource
  ReportWebsitePipelineSourceCodeCommitCodePipelineActionRole46690BCE:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              AWS:
                Fn::Join:
                  - ""
                  - - "arn:"
                    - Ref: AWS::Partition
                    - ":iam::"
                    - Ref: AWS::AccountId
                    - :root
        Version: "2012-10-17"
    Metadata:
      aws:cdk:path: OdAppCdkStack/ReportWebsitePipeline/Source/CodeCommit/CodePipelineActionRole/Resource
  ReportWebsitePipelineSourceCodeCommitCodePipelineActionRoleDefaultPolicy31C38598:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - s3:Abort*
              - s3:DeleteObject*
              - s3:GetBucket*
              - s3:GetObject*
              - s3:List*
              - s3:PutObject
              - s3:PutObjectLegalHold
              - s3:PutObjectRetention
              - s3:PutObjectTagging
              - s3:PutObjectVersionTagging
            Effect: Allow
            Resource:
              - Fn::GetAtt:
                  - ReportWebsitePipelineArtifactsBucket2ADD38D8
                  - Arn
              - Fn::Join:
                  - ""
                  - - Fn::GetAtt:
                        - ReportWebsitePipelineArtifactsBucket2ADD38D8
                        - Arn
                    - /*
          - Action:
              - codecommit:CancelUploadArchive
              - codecommit:GetBranch
              - codecommit:GetCommit
              - codecommit:GetUploadArchiveStatus
              - codecommit:UploadArchive
            Effect: Allow
            Resource:
              Fn::GetAtt:
                - ReportRepo7601D946
                - Arn
        Version: "2012-10-17"
      PolicyName: ReportWebsitePipelineSourceCodeCommitCodePipelineActionRoleDefaultPolicy31C38598
      Roles:
        - Ref: ReportWebsitePipelineSourceCodeCommitCodePipelineActionRole46690BCE
    Metadata:
      aws:cdk:path: OdAppCdkStack/ReportWebsitePipeline/Source/CodeCommit/CodePipelineActionRole/DefaultPolicy/Resource
  ReportWebsitePipelineEventsRoleE4BBB815:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: events.amazonaws.com
        Version: "2012-10-17"
    Metadata:
      aws:cdk:path: OdAppCdkStack/ReportWebsitePipeline/EventsRole/Resource
  ReportWebsitePipelineEventsRoleDefaultPolicy434B4307:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action: codepipeline:StartPipelineExecution
            Effect: Allow
            Resource:
              Fn::Join:
                - ""
                - - "arn:"
                  - Ref: AWS::Partition
                  - ":codepipeline:"
                  - Ref: AWS::Region
                  - ":"
                  - Ref: AWS::AccountId
                  - ":"
                  - Ref: ReportWebsitePipeline6A2C97E9
        Version: "2012-10-17"
      PolicyName: ReportWebsitePipelineEventsRoleDefaultPolicy434B4307
      Roles:
        - Ref: ReportWebsitePipelineEventsRoleE4BBB815
    Metadata:
      aws:cdk:path: OdAppCdkStack/ReportWebsitePipeline/EventsRole/DefaultPolicy/Resource
  ReportWebsitePipelineBuildCodeBuildCodePipelineActionRoleAA789D50:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              AWS:
                Fn::Join:
                  - ""
                  - - "arn:"
                    - Ref: AWS::Partition
                    - ":iam::"
                    - Ref: AWS::AccountId
                    - :root
        Version: "2012-10-17"
    Metadata:
      aws:cdk:path: OdAppCdkStack/ReportWebsitePipeline/Build/CodeBuild/CodePipelineActionRole/Resource
  ReportWebsitePipelineBuildCodeBuildCodePipelineActionRoleDefaultPolicyC4F9AB42:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - codebuild:BatchGetBuilds
              - codebuild:StartBuild
              - codebuild:StopBuild
            Effect: Allow
            Resource:
              Fn::GetAtt:
                - ReportBuildProjectBDFA9491
                - Arn
        Version: "2012-10-17"
      PolicyName: ReportWebsitePipelineBuildCodeBuildCodePipelineActionRoleDefaultPolicyC4F9AB42
      Roles:
        - Ref: ReportWebsitePipelineBuildCodeBuildCodePipelineActionRoleAA789D50
    Metadata:
      aws:cdk:path: OdAppCdkStack/ReportWebsitePipeline/Build/CodeBuild/CodePipelineActionRole/DefaultPolicy/Resource
  ReportWebsitePipelineDeployS3DeployCodePipelineActionRoleEE0B5796:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              AWS:
                Fn::Join:
                  - ""
                  - - "arn:"
                    - Ref: AWS::Partition
                    - ":iam::"
                    - Ref: AWS::AccountId
                    - :root
        Version: "2012-10-17"
    Metadata:
      aws:cdk:path: OdAppCdkStack/ReportWebsitePipeline/Deploy/S3Deploy/CodePipelineActionRole/Resource
  ReportWebsitePipelineDeployS3DeployCodePipelineActionRoleDefaultPolicy5E10E561:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - s3:Abort*
              - s3:DeleteObject*
              - s3:PutObject
              - s3:PutObjectLegalHold
              - s3:PutObjectRetention
              - s3:PutObjectTagging
              - s3:PutObjectVersionTagging
            Effect: Allow
            Resource:
              - Fn::GetAtt:
                  - ReportBucket577F0FCD
                  - Arn
              - Fn::Join:
                  - ""
                  - - Fn::GetAtt:
                        - ReportBucket577F0FCD
                        - Arn
                    - /*
          - Action:
              - s3:GetBucket*
              - s3:GetObject*
              - s3:List*
            Effect: Allow
            Resource:
              - Fn::GetAtt:
                  - ReportWebsitePipelineArtifactsBucket2ADD38D8
                  - Arn
              - Fn::Join:
                  - ""
                  - - Fn::GetAtt:
                        - ReportWebsitePipelineArtifactsBucket2ADD38D8
                        - Arn
                    - /*
        Version: "2012-10-17"
      PolicyName: ReportWebsitePipelineDeployS3DeployCodePipelineActionRoleDefaultPolicy5E10E561
      Roles:
        - Ref: ReportWebsitePipelineDeployS3DeployCodePipelineActionRoleEE0B5796
    Metadata:
      aws:cdk:path: OdAppCdkStack/ReportWebsitePipeline/Deploy/S3Deploy/CodePipelineActionRole/DefaultPolicy/Resource
  ReportBuildProjectRole95782059:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: codebuild.amazonaws.com
        Version: "2012-10-17"
    Metadata:
      aws:cdk:path: OdAppCdkStack/ReportBuildProject/Role/Resource
  ReportBuildProjectRoleDefaultPolicy2CC63E0C:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - logs:CreateLogGroup
              - logs:CreateLogStream
              - logs:PutLogEvents
            Effect: Allow
            Resource:
              - Fn::Join:
                  - ""
                  - - "arn:"
                    - Ref: AWS::Partition
                    - ":logs:"
                    - Ref: AWS::Region
                    - ":"
                    - Ref: AWS::AccountId
                    - :log-group:/aws/codebuild/
                    - Ref: ReportBuildProjectBDFA9491
                    - :*
              - Fn::Join:
                  - ""
                  - - "arn:"
                    - Ref: AWS::Partition
                    - ":logs:"
                    - Ref: AWS::Region
                    - ":"
                    - Ref: AWS::AccountId
                    - :log-group:/aws/codebuild/
                    - Ref: ReportBuildProjectBDFA9491
          - Action:
              - codebuild:BatchPutCodeCoverages
              - codebuild:BatchPutTestCases
              - codebuild:CreateReport
              - codebuild:CreateReportGroup
              - codebuild:UpdateReport
            Effect: Allow
            Resource:
              Fn::Join:
                - ""
                - - "arn:"
                  - Ref: AWS::Partition
                  - ":codebuild:"
                  - Ref: AWS::Region
                  - ":"
                  - Ref: AWS::AccountId
                  - :report-group/
                  - Ref: ReportBuildProjectBDFA9491
                  - -*
          - Action:
              - s3:Abort*
              - s3:DeleteObject*
              - s3:GetBucket*
              - s3:GetObject*
              - s3:List*
              - s3:PutObject
              - s3:PutObjectLegalHold
              - s3:PutObjectRetention
              - s3:PutObjectTagging
              - s3:PutObjectVersionTagging
            Effect: Allow
            Resource:
              - Fn::GetAtt:
                  - ReportWebsitePipelineArtifactsBucket2ADD38D8
                  - Arn
              - Fn::Join:
                  - ""
                  - - Fn::GetAtt:
                        - ReportWebsitePipelineArtifactsBucket2ADD38D8
                        - Arn
                    - /*
        Version: "2012-10-17"
      PolicyName: ReportBuildProjectRoleDefaultPolicy2CC63E0C
      Roles:
        - Ref: ReportBuildProjectRole95782059
    Metadata:
      aws:cdk:path: OdAppCdkStack/ReportBuildProject/Role/DefaultPolicy/Resource
  ReportBuildProjectBDFA9491:
    Type: AWS::CodeBuild::Project
    Properties:
      Artifacts:
        Type: CODEPIPELINE
      Cache:
        Type: NO_CACHE
      EncryptionKey: alias/aws/s3
      Environment:
        ComputeType: BUILD_GENERAL1_SMALL
        Image: aws/codebuild/standard:5.0
        ImagePullCredentialsType: CODEBUILD
        PrivilegedMode: false
        Type: LINUX_CONTAINER
      ServiceRole:
        Fn::GetAtt:
          - ReportBuildProjectRole95782059
          - Arn
      Source:
        Type: CODEPIPELINE
    Metadata:
      aws:cdk:path: OdAppCdkStack/ReportBuildProject/Resource
  UserPoolReportEC8F0E3F:
    Type: AWS::Cognito::UserPool
    Properties:
      AccountRecoverySetting:
        RecoveryMechanisms:
          - Name: verified_phone_number
            Priority: 1
          - Name: verified_email
            Priority: 2
      AdminCreateUserConfig:
        AllowAdminCreateUserOnly: false
      AutoVerifiedAttributes:
        - email
      EmailVerificationMessage: The verification code to your new account is {####}
      EmailVerificationSubject: Verify your new account
      Policies:
        PasswordPolicy:
          MinimumLength: 8
          RequireLowercase: false
          RequireNumbers: false
          RequireSymbols: false
          RequireUppercase: false
      Schema:
        - Mutable: false
          Name: email
          Required: true
      SmsVerificationMessage: The verification code to your new account is {####}
      UsernameAttributes:
        - email
      VerificationMessageTemplate:
        DefaultEmailOption: CONFIRM_WITH_CODE
        EmailMessage: The verification code to your new account is {####}
        EmailSubject: Verify your new account
        SmsMessage: The verification code to your new account is {####}
    UpdateReplacePolicy: Retain
    DeletionPolicy: Retain
    Metadata:
      aws:cdk:path: OdAppCdkStack/UserPoolReport/Resource
  UserPoolReportClientC36E0A6B:
    Type: AWS::Cognito::UserPoolClient
    Properties:
      AllowedOAuthFlows:
        - implicit
        - code
      AllowedOAuthFlowsUserPoolClient: true
      AllowedOAuthScopes:
        - profile
        - phone
        - email
        - openid
        - aws.cognito.signin.user.admin
      CallbackURLs:
        - https://example.com
      ExplicitAuthFlows:
        - ALLOW_USER_PASSWORD_AUTH
        - ALLOW_REFRESH_TOKEN_AUTH
      SupportedIdentityProviders:
        - COGNITO
      UserPoolId:
        Ref: UserPoolReportEC8F0E3F
    Metadata:
      aws:cdk:path: OdAppCdkStack/UserPoolReportClient/Resource
  clientTable0633AF8C:
    Type: AWS::DynamoDB::GlobalTable
    Properties:
      AttributeDefinitions:
        - AttributeName: clientid
          AttributeType: S
        - AttributeName: name
          AttributeType: S
      BillingMode: PAY_PER_REQUEST
      GlobalSecondaryIndexes:
        - IndexName: nameIndex
          KeySchema:
            - AttributeName: name
              KeyType: HASH
          Projection:
            ProjectionType: ALL
      KeySchema:
        - AttributeName: clientid
          KeyType: HASH
      Replicas:
        - GlobalSecondaryIndexes:
            - IndexName: nameIndex
          Region:
            Ref: AWS::Region
      TableName: clientTable
    UpdateReplacePolicy: Retain
    DeletionPolicy: Retain
    Metadata:
      aws:cdk:path: OdAppCdkStack/clientTable/Resource
  respondentTable265E52D3:
    Type: AWS::DynamoDB::GlobalTable
    Properties:
      AttributeDefinitions:
        - AttributeName: respondentid
          AttributeType: S
      BillingMode: PAY_PER_REQUEST
      KeySchema:
        - AttributeName: respondentid
          KeyType: HASH
      Replicas:
        - Region:
            Ref: AWS::Region
      TableName: respondentTable
    UpdateReplacePolicy: Retain
    DeletionPolicy: Retain
    Metadata:
      aws:cdk:path: OdAppCdkStack/respondentTable/Resource
  responseSetTableE1D8A92E:
    Type: AWS::DynamoDB::GlobalTable
    Properties:
      AttributeDefinitions:
        - AttributeName: responsesetid
          AttributeType: S
      BillingMode: PAY_PER_REQUEST
      KeySchema:
        - AttributeName: responsesetid
          KeyType: HASH
      Replicas:
        - Region:
            Ref: AWS::Region
      TableName: responseSetTable
    UpdateReplacePolicy: Retain
    DeletionPolicy: Retain
    Metadata:
      aws:cdk:path: OdAppCdkStack/responseSetTable/Resource
  surveyTypeTable194BDCE8:
    Type: AWS::DynamoDB::GlobalTable
    Properties:
      AttributeDefinitions:
        - AttributeName: surveytypeid
          AttributeType: S
        - AttributeName: name
          AttributeType: S
      BillingMode: PAY_PER_REQUEST
      GlobalSecondaryIndexes:
        - IndexName: nameIndex
          KeySchema:
            - AttributeName: name
              KeyType: HASH
          Projection:
            ProjectionType: ALL
      KeySchema:
        - AttributeName: surveytypeid
          KeyType: HASH
      Replicas:
        - GlobalSecondaryIndexes:
            - IndexName: nameIndex
          Region:
            Ref: AWS::Region
      TableName: surveyTypeTable
    UpdateReplacePolicy: Retain
    DeletionPolicy: Retain
    Metadata:
      aws:cdk:path: OdAppCdkStack/surveyTypeTable/Resource
  responseTableBBB69578:
    Type: AWS::DynamoDB::GlobalTable
    Properties:
      AttributeDefinitions:
        - AttributeName: responseid
          AttributeType: S
      BillingMode: PAY_PER_REQUEST
      KeySchema:
        - AttributeName: responseid
          KeyType: HASH
      Replicas:
        - Region:
            Ref: AWS::Region
      TableName: responseTable
    UpdateReplacePolicy: Retain
    DeletionPolicy: Retain
    Metadata:
      aws:cdk:path: OdAppCdkStack/responseTable/Resource
  userTableA39440AD:
    Type: AWS::DynamoDB::GlobalTable
    Properties:
      AttributeDefinitions:
        - AttributeName: userid
          AttributeType: S
        - AttributeName: email
          AttributeType: S
        - AttributeName: clientid
          AttributeType: S
      BillingMode: PAY_PER_REQUEST
      GlobalSecondaryIndexes:
        - IndexName: emailIndex
          KeySchema:
            - AttributeName: email
              KeyType: HASH
          Projection:
            ProjectionType: ALL
        - IndexName: clientidIndex
          KeySchema:
            - AttributeName: clientid
              KeyType: HASH
          Projection:
            ProjectionType: ALL
      KeySchema:
        - AttributeName: userid
          KeyType: HASH
      Replicas:
        - GlobalSecondaryIndexes:
            - IndexName: emailIndex
            - IndexName: clientidIndex
          Region:
            Ref: AWS::Region
      TableName: userTable
    UpdateReplacePolicy: Retain
    DeletionPolicy: Retain
    Metadata:
      aws:cdk:path: OdAppCdkStack/userTable/Resource
  respondentSurveyTable4D3A03D0:
    Type: AWS::DynamoDB::GlobalTable
    Properties:
      AttributeDefinitions:
        - AttributeName: respondentSurveyId
          AttributeType: S
        - AttributeName: surveyid
          AttributeType: S
        - AttributeName: respondentid
          AttributeType: S
      BillingMode: PAY_PER_REQUEST
      GlobalSecondaryIndexes:
        - IndexName: respondentIndex
          KeySchema:
            - AttributeName: respondentid
              KeyType: HASH
            - AttributeName: surveyid
              KeyType: RANGE
          Projection:
            ProjectionType: ALL
      KeySchema:
        - AttributeName: respondentSurveyId
          KeyType: HASH
        - AttributeName: surveyid
          KeyType: RANGE
      Replicas:
        - GlobalSecondaryIndexes:
            - IndexName: respondentIndex
          Region:
            Ref: AWS::Region
      TableName: respondentSurveyTable
    UpdateReplacePolicy: Retain
    DeletionPolicy: Retain
    Metadata:
      aws:cdk:path: OdAppCdkStack/respondentSurveyTable/Resource
  dummyServiceRoleDE125B4D:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: "2012-10-17"
      ManagedPolicyArns:
        - Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - :iam::aws:policy/service-role/AWSLambdaBasicExecutionRole
    Metadata:
      aws:cdk:path: OdAppCdkStack/dummy/ServiceRole/Resource
  dummyAAEDD33A:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket:
          Fn::Sub: cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}
        S3Key: cc5884a1a4bab57740935140b608f65eecae069895b0244320605a0977bc4a3d.zip
      Environment:
        Variables:
          CLIENTS_TABLE:
            Ref: clientTable0633AF8C
      Handler: clients.handler
      Role:
        Fn::GetAtt:
          - dummyServiceRoleDE125B4D
          - Arn
      Runtime: nodejs18.x
    DependsOn:
      - dummyServiceRoleDE125B4D
    Metadata:
      aws:cdk:path: OdAppCdkStack/dummy/Resource
      aws:asset:path: asset.cc5884a1a4bab57740935140b608f65eecae069895b0244320605a0977bc4a3d
      aws:asset:is-bundled: false
      aws:asset:property: Code
  SharedApi9DD7A97D:
    Type: AWS::ApiGateway::RestApi
    Properties:
      Name: SharedApi
      Policy:
        Statement:
          - Action: execute-api:Invoke
            Effect: Allow
            Principal:
              AWS: "*"
            Resource: arn:aws:execute-api:*:*:*
        Version: "2012-10-17"
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Resource
  SharedApiDeployment48073DC20ddb68780890d9195b588a8e79f551da:
    Type: AWS::ApiGateway::Deployment
    Properties:
      Description: Automatically created by the RestApi construct
      RestApiId:
        Ref: SharedApi9DD7A97D
    DependsOn:
      - SharedApiauthmeGET68BD2C40
      - SharedApiauthmeOPTIONSBCEC39B5
      - SharedApiauthmeDD5B2EF3
      - SharedApiauthOPTIONSBA794B49
      - SharedApiauth4F749EFE
      - SharedApiclientsidGET5CF5A107
      - SharedApiclientsidOPTIONS70166C2A
      - SharedApiclientsidPATCH6A16CB7A
      - SharedApiclientsidF19F2F7D
      - SharedApiclientsGET5F33226A
      - SharedApiclientsOPTIONS36151B4A
      - SharedApiclientsPATCHBC73BC3C
      - SharedApiclientsPOSTCF6E3A27
      - SharedApiclients597C8EB0
      - SharedApicreatedataGET71CB9DD1
      - SharedApicreatedataOPTIONS3A15E28B
      - SharedApicreatedataD3564598
      - SharedApiOPTIONSCCD90AB7
      - SharedApipublicsurveysidGET251A92CF
      - SharedApipublicsurveysidOPTIONS96319AFA
      - SharedApipublicsurveysidE01155BC
      - SharedApipublicsurveysOPTIONS757181BE
      - SharedApipublicsurveys5170B2E7
      - SharedApirdsOPTIONS17EB2073
      - SharedApirds10B97390
      - SharedApirdsresponsesGET6C71BA48
      - SharedApirdsresponsesOPTIONS9D21EBF3
      - SharedApirdsresponses7058E588
      - SharedApirespondentsidDELETEF36A3F37
      - SharedApirespondentsidGET235D39F9
      - SharedApirespondentsidOPTIONS26904220
      - SharedApirespondentsidPATCH6CF973CA
      - SharedApirespondentsidE987E4BC
      - SharedApirespondentsGET41052E39
      - SharedApirespondentsOPTIONS7CC39EE6
      - SharedApirespondentsPATCH14DEBFF5
      - SharedApirespondentsPOST0CCA3198
      - SharedApirespondentsD3C9718F
      - SharedApisendemailsOPTIONSF824E32D
      - SharedApisendemailsPOSTE7AD7B48
      - SharedApisendemailsF3943E7B
      - SharedApisurveyresponsesOPTIONS392186C7
      - SharedApisurveyresponsesPOSTEA02D618
      - SharedApisurveyresponses18A445C8
      - SharedApisurveytypesidGETEB94C552
      - SharedApisurveytypesidOPTIONS43C5BF9E
      - SharedApisurveytypesidPATCH432DBF27
      - SharedApisurveytypesid05B96FA3
      - SharedApisurveytypesGET2EEA70B3
      - SharedApisurveytypesOPTIONS91DF42AE
      - SharedApisurveytypesPOST7EE978CF
      - SharedApisurveytypes7F44F295
      - SharedApisurveysidGET6B49A0B1
      - SharedApisurveysidOPTIONSB65D1529
      - SharedApisurveysidPATCHA9DE345F
      - SharedApisurveysidF43D6AE9
      - SharedApisurveysGET3E8D0BBF
      - SharedApisurveysOPTIONS6FA6960C
      - SharedApisurveysPOST5C47F04E
      - SharedApisurveys027D48D1
      - SharedApiusersidDELETE5A1E2DD7
      - SharedApiusersidGETC927DA8A
      - SharedApiusersidOPTIONS051D8482
      - SharedApiusersidPATCH6FF9A306
      - SharedApiusersidA9F9F3AB
      - SharedApiusersGETBBFC681B
      - SharedApiusersOPTIONS161ACC7F
      - SharedApiusersPOSTB5A5C6D7
      - SharedApiusers606E5ECC
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Deployment/Resource
  SharedApiDeploymentStageprod267E5D0B:
    Type: AWS::ApiGateway::Stage
    Properties:
      DeploymentId:
        Ref: SharedApiDeployment48073DC20ddb68780890d9195b588a8e79f551da
      RestApiId:
        Ref: SharedApi9DD7A97D
      StageName: prod
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/DeploymentStage.prod/Resource
  SharedApiOPTIONSCCD90AB7:
    Type: AWS::ApiGateway::Method
    Properties:
      ApiKeyRequired: false
      AuthorizationType: NONE
      HttpMethod: OPTIONS
      Integration:
        IntegrationResponses:
          - ResponseParameters:
              method.response.header.Access-Control-Allow-Headers: "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'"
              method.response.header.Access-Control-Allow-Origin: "'*'"
              method.response.header.Access-Control-Allow-Methods: "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
            StatusCode: "200"
        RequestTemplates:
          application/json: "{ statusCode: 200 }"
        Type: MOCK
      MethodResponses:
        - ResponseParameters:
            method.response.header.Access-Control-Allow-Headers: true
            method.response.header.Access-Control-Allow-Origin: true
            method.response.header.Access-Control-Allow-Methods: true
          StatusCode: "200"
      ResourceId:
        Fn::GetAtt:
          - SharedApi9DD7A97D
          - RootResourceId
      RestApiId:
        Ref: SharedApi9DD7A97D
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/OPTIONS/Resource
  SharedApicreatedataD3564598:
    Type: AWS::ApiGateway::Resource
    Properties:
      ParentId:
        Fn::GetAtt:
          - SharedApi9DD7A97D
          - RootResourceId
      PathPart: create-data
      RestApiId:
        Ref: SharedApi9DD7A97D
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/create-data/Resource
  SharedApicreatedataOPTIONS3A15E28B:
    Type: AWS::ApiGateway::Method
    Properties:
      ApiKeyRequired: false
      AuthorizationType: NONE
      HttpMethod: OPTIONS
      Integration:
        IntegrationResponses:
          - ResponseParameters:
              method.response.header.Access-Control-Allow-Headers: "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'"
              method.response.header.Access-Control-Allow-Origin: "'*'"
              method.response.header.Access-Control-Allow-Methods: "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
            StatusCode: "200"
        RequestTemplates:
          application/json: "{ statusCode: 200 }"
        Type: MOCK
      MethodResponses:
        - ResponseParameters:
            method.response.header.Access-Control-Allow-Headers: true
            method.response.header.Access-Control-Allow-Origin: true
            method.response.header.Access-Control-Allow-Methods: true
          StatusCode: "200"
      ResourceId:
        Ref: SharedApicreatedataD3564598
      RestApiId:
        Ref: SharedApi9DD7A97D
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/create-data/OPTIONS/Resource
  SharedApicreatedataGETApiPermissionOdAppCdkStackSharedApi3F29C5BEGETcreatedata383EF3CB:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - TestHandler3EEC6392
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:"
            - Ref: AWS::Partition
            - ":execute-api:"
            - Ref: AWS::Region
            - ":"
            - Ref: AWS::AccountId
            - ":"
            - Ref: SharedApi9DD7A97D
            - /
            - Ref: SharedApiDeploymentStageprod267E5D0B
            - /GET/create-data
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/create-data/GET/ApiPermission.OdAppCdkStackSharedApi3F29C5BE.GET..create-data
  SharedApicreatedataGETApiPermissionTestOdAppCdkStackSharedApi3F29C5BEGETcreatedata0A13BDED:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - TestHandler3EEC6392
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:"
            - Ref: AWS::Partition
            - ":execute-api:"
            - Ref: AWS::Region
            - ":"
            - Ref: AWS::AccountId
            - ":"
            - Ref: SharedApi9DD7A97D
            - /test-invoke-stage/GET/create-data
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/create-data/GET/ApiPermission.Test.OdAppCdkStackSharedApi3F29C5BE.GET..create-data
  SharedApicreatedataGET71CB9DD1:
    Type: AWS::ApiGateway::Method
    Properties:
      AuthorizationType: NONE
      HttpMethod: GET
      Integration:
        IntegrationHttpMethod: POST
        Type: AWS_PROXY
        Uri:
          Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - ":apigateway:"
              - Ref: AWS::Region
              - :lambda:path/2015-03-31/functions/
              - Fn::GetAtt:
                  - TestHandler3EEC6392
                  - Arn
              - /invocations
      ResourceId:
        Ref: SharedApicreatedataD3564598
      RestApiId:
        Ref: SharedApi9DD7A97D
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/create-data/GET/Resource
  SharedApiauth4F749EFE:
    Type: AWS::ApiGateway::Resource
    Properties:
      ParentId:
        Fn::GetAtt:
          - SharedApi9DD7A97D
          - RootResourceId
      PathPart: auth
      RestApiId:
        Ref: SharedApi9DD7A97D
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/auth/Resource
  SharedApiauthOPTIONSBA794B49:
    Type: AWS::ApiGateway::Method
    Properties:
      ApiKeyRequired: false
      AuthorizationType: NONE
      HttpMethod: OPTIONS
      Integration:
        IntegrationResponses:
          - ResponseParameters:
              method.response.header.Access-Control-Allow-Headers: "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'"
              method.response.header.Access-Control-Allow-Origin: "'*'"
              method.response.header.Access-Control-Allow-Methods: "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
            StatusCode: "200"
        RequestTemplates:
          application/json: "{ statusCode: 200 }"
        Type: MOCK
      MethodResponses:
        - ResponseParameters:
            method.response.header.Access-Control-Allow-Headers: true
            method.response.header.Access-Control-Allow-Origin: true
            method.response.header.Access-Control-Allow-Methods: true
          StatusCode: "200"
      ResourceId:
        Ref: SharedApiauth4F749EFE
      RestApiId:
        Ref: SharedApi9DD7A97D
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/auth/OPTIONS/Resource
  SharedApiauthmeDD5B2EF3:
    Type: AWS::ApiGateway::Resource
    Properties:
      ParentId:
        Ref: SharedApiauth4F749EFE
      PathPart: me
      RestApiId:
        Ref: SharedApi9DD7A97D
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/auth/me/Resource
  SharedApiauthmeOPTIONSBCEC39B5:
    Type: AWS::ApiGateway::Method
    Properties:
      ApiKeyRequired: false
      AuthorizationType: NONE
      HttpMethod: OPTIONS
      Integration:
        IntegrationResponses:
          - ResponseParameters:
              method.response.header.Access-Control-Allow-Headers: "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'"
              method.response.header.Access-Control-Allow-Origin: "'*'"
              method.response.header.Access-Control-Allow-Methods: "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
            StatusCode: "200"
        RequestTemplates:
          application/json: "{ statusCode: 200 }"
        Type: MOCK
      MethodResponses:
        - ResponseParameters:
            method.response.header.Access-Control-Allow-Headers: true
            method.response.header.Access-Control-Allow-Origin: true
            method.response.header.Access-Control-Allow-Methods: true
          StatusCode: "200"
      ResourceId:
        Ref: SharedApiauthmeDD5B2EF3
      RestApiId:
        Ref: SharedApi9DD7A97D
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/auth/me/OPTIONS/Resource
  SharedApiauthmeGETApiPermissionOdAppCdkStackSharedApi3F29C5BEGETauthme314965C2:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - AuthHandler9DC767B7
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:"
            - Ref: AWS::Partition
            - ":execute-api:"
            - Ref: AWS::Region
            - ":"
            - Ref: AWS::AccountId
            - ":"
            - Ref: SharedApi9DD7A97D
            - /
            - Ref: SharedApiDeploymentStageprod267E5D0B
            - /GET/auth/me
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/auth/me/GET/ApiPermission.OdAppCdkStackSharedApi3F29C5BE.GET..auth.me
  SharedApiauthmeGETApiPermissionTestOdAppCdkStackSharedApi3F29C5BEGETauthme5D4E36CB:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - AuthHandler9DC767B7
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:"
            - Ref: AWS::Partition
            - ":execute-api:"
            - Ref: AWS::Region
            - ":"
            - Ref: AWS::AccountId
            - ":"
            - Ref: SharedApi9DD7A97D
            - /test-invoke-stage/GET/auth/me
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/auth/me/GET/ApiPermission.Test.OdAppCdkStackSharedApi3F29C5BE.GET..auth.me
  SharedApiauthmeGET68BD2C40:
    Type: AWS::ApiGateway::Method
    Properties:
      AuthorizationType: NONE
      HttpMethod: GET
      Integration:
        IntegrationHttpMethod: POST
        Type: AWS_PROXY
        Uri:
          Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - ":apigateway:"
              - Ref: AWS::Region
              - :lambda:path/2015-03-31/functions/
              - Fn::GetAtt:
                  - AuthHandler9DC767B7
                  - Arn
              - /invocations
      ResourceId:
        Ref: SharedApiauthmeDD5B2EF3
      RestApiId:
        Ref: SharedApi9DD7A97D
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/auth/me/GET/Resource
  SharedApisurveys027D48D1:
    Type: AWS::ApiGateway::Resource
    Properties:
      ParentId:
        Fn::GetAtt:
          - SharedApi9DD7A97D
          - RootResourceId
      PathPart: surveys
      RestApiId:
        Ref: SharedApi9DD7A97D
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/surveys/Resource
  SharedApisurveysOPTIONS6FA6960C:
    Type: AWS::ApiGateway::Method
    Properties:
      ApiKeyRequired: false
      AuthorizationType: NONE
      HttpMethod: OPTIONS
      Integration:
        IntegrationResponses:
          - ResponseParameters:
              method.response.header.Access-Control-Allow-Headers: "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'"
              method.response.header.Access-Control-Allow-Origin: "'*'"
              method.response.header.Access-Control-Allow-Methods: "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
            StatusCode: "200"
        RequestTemplates:
          application/json: "{ statusCode: 200 }"
        Type: MOCK
      MethodResponses:
        - ResponseParameters:
            method.response.header.Access-Control-Allow-Headers: true
            method.response.header.Access-Control-Allow-Origin: true
            method.response.header.Access-Control-Allow-Methods: true
          StatusCode: "200"
      ResourceId:
        Ref: SharedApisurveys027D48D1
      RestApiId:
        Ref: SharedApi9DD7A97D
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/surveys/OPTIONS/Resource
  SharedApisurveysidF43D6AE9:
    Type: AWS::ApiGateway::Resource
    Properties:
      ParentId:
        Ref: SharedApisurveys027D48D1
      PathPart: "{id}"
      RestApiId:
        Ref: SharedApi9DD7A97D
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/surveys/{id}/Resource
  SharedApisurveysidOPTIONSB65D1529:
    Type: AWS::ApiGateway::Method
    Properties:
      ApiKeyRequired: false
      AuthorizationType: NONE
      HttpMethod: OPTIONS
      Integration:
        IntegrationResponses:
          - ResponseParameters:
              method.response.header.Access-Control-Allow-Headers: "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'"
              method.response.header.Access-Control-Allow-Origin: "'*'"
              method.response.header.Access-Control-Allow-Methods: "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
            StatusCode: "200"
        RequestTemplates:
          application/json: "{ statusCode: 200 }"
        Type: MOCK
      MethodResponses:
        - ResponseParameters:
            method.response.header.Access-Control-Allow-Headers: true
            method.response.header.Access-Control-Allow-Origin: true
            method.response.header.Access-Control-Allow-Methods: true
          StatusCode: "200"
      ResourceId:
        Ref: SharedApisurveysidF43D6AE9
      RestApiId:
        Ref: SharedApi9DD7A97D
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/surveys/{id}/OPTIONS/Resource
  SharedApisurveysidPATCHApiPermissionOdAppCdkStackSharedApi3F29C5BEPATCHsurveysid5A69CAFC:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - ResponseSetsHandlerE53CA90B
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:"
            - Ref: AWS::Partition
            - ":execute-api:"
            - Ref: AWS::Region
            - ":"
            - Ref: AWS::AccountId
            - ":"
            - Ref: SharedApi9DD7A97D
            - /
            - Ref: SharedApiDeploymentStageprod267E5D0B
            - /PATCH/surveys/*
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/surveys/{id}/PATCH/ApiPermission.OdAppCdkStackSharedApi3F29C5BE.PATCH..surveys.{id}
  SharedApisurveysidPATCHApiPermissionTestOdAppCdkStackSharedApi3F29C5BEPATCHsurveysidE8EE8C54:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - ResponseSetsHandlerE53CA90B
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:"
            - Ref: AWS::Partition
            - ":execute-api:"
            - Ref: AWS::Region
            - ":"
            - Ref: AWS::AccountId
            - ":"
            - Ref: SharedApi9DD7A97D
            - /test-invoke-stage/PATCH/surveys/*
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/surveys/{id}/PATCH/ApiPermission.Test.OdAppCdkStackSharedApi3F29C5BE.PATCH..surveys.{id}
  SharedApisurveysidPATCHA9DE345F:
    Type: AWS::ApiGateway::Method
    Properties:
      AuthorizationType: NONE
      HttpMethod: PATCH
      Integration:
        IntegrationHttpMethod: POST
        Type: AWS_PROXY
        Uri:
          Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - ":apigateway:"
              - Ref: AWS::Region
              - :lambda:path/2015-03-31/functions/
              - Fn::GetAtt:
                  - ResponseSetsHandlerE53CA90B
                  - Arn
              - /invocations
      ResourceId:
        Ref: SharedApisurveysidF43D6AE9
      RestApiId:
        Ref: SharedApi9DD7A97D
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/surveys/{id}/PATCH/Resource
  SharedApisurveysidGETApiPermissionOdAppCdkStackSharedApi3F29C5BEGETsurveysidF1E78A26:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - ResponseSetsHandlerE53CA90B
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:"
            - Ref: AWS::Partition
            - ":execute-api:"
            - Ref: AWS::Region
            - ":"
            - Ref: AWS::AccountId
            - ":"
            - Ref: SharedApi9DD7A97D
            - /
            - Ref: SharedApiDeploymentStageprod267E5D0B
            - /GET/surveys/*
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/surveys/{id}/GET/ApiPermission.OdAppCdkStackSharedApi3F29C5BE.GET..surveys.{id}
  SharedApisurveysidGETApiPermissionTestOdAppCdkStackSharedApi3F29C5BEGETsurveysid90EB5B13:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - ResponseSetsHandlerE53CA90B
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:"
            - Ref: AWS::Partition
            - ":execute-api:"
            - Ref: AWS::Region
            - ":"
            - Ref: AWS::AccountId
            - ":"
            - Ref: SharedApi9DD7A97D
            - /test-invoke-stage/GET/surveys/*
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/surveys/{id}/GET/ApiPermission.Test.OdAppCdkStackSharedApi3F29C5BE.GET..surveys.{id}
  SharedApisurveysidGET6B49A0B1:
    Type: AWS::ApiGateway::Method
    Properties:
      AuthorizationType: NONE
      HttpMethod: GET
      Integration:
        IntegrationHttpMethod: POST
        Type: AWS_PROXY
        Uri:
          Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - ":apigateway:"
              - Ref: AWS::Region
              - :lambda:path/2015-03-31/functions/
              - Fn::GetAtt:
                  - ResponseSetsHandlerE53CA90B
                  - Arn
              - /invocations
      ResourceId:
        Ref: SharedApisurveysidF43D6AE9
      RestApiId:
        Ref: SharedApi9DD7A97D
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/surveys/{id}/GET/Resource
  SharedApisurveysPOSTApiPermissionOdAppCdkStackSharedApi3F29C5BEPOSTsurveysA2A9E1BA:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - ResponseSetsHandlerE53CA90B
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:"
            - Ref: AWS::Partition
            - ":execute-api:"
            - Ref: AWS::Region
            - ":"
            - Ref: AWS::AccountId
            - ":"
            - Ref: SharedApi9DD7A97D
            - /
            - Ref: SharedApiDeploymentStageprod267E5D0B
            - /POST/surveys
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/surveys/POST/ApiPermission.OdAppCdkStackSharedApi3F29C5BE.POST..surveys
  SharedApisurveysPOSTApiPermissionTestOdAppCdkStackSharedApi3F29C5BEPOSTsurveys5038A45E:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - ResponseSetsHandlerE53CA90B
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:"
            - Ref: AWS::Partition
            - ":execute-api:"
            - Ref: AWS::Region
            - ":"
            - Ref: AWS::AccountId
            - ":"
            - Ref: SharedApi9DD7A97D
            - /test-invoke-stage/POST/surveys
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/surveys/POST/ApiPermission.Test.OdAppCdkStackSharedApi3F29C5BE.POST..surveys
  SharedApisurveysPOST5C47F04E:
    Type: AWS::ApiGateway::Method
    Properties:
      AuthorizationType: NONE
      HttpMethod: POST
      Integration:
        IntegrationHttpMethod: POST
        Type: AWS_PROXY
        Uri:
          Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - ":apigateway:"
              - Ref: AWS::Region
              - :lambda:path/2015-03-31/functions/
              - Fn::GetAtt:
                  - ResponseSetsHandlerE53CA90B
                  - Arn
              - /invocations
      ResourceId:
        Ref: SharedApisurveys027D48D1
      RestApiId:
        Ref: SharedApi9DD7A97D
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/surveys/POST/Resource
  SharedApisurveysGETApiPermissionOdAppCdkStackSharedApi3F29C5BEGETsurveys5D65D304:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - ResponseSetsHandlerE53CA90B
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:"
            - Ref: AWS::Partition
            - ":execute-api:"
            - Ref: AWS::Region
            - ":"
            - Ref: AWS::AccountId
            - ":"
            - Ref: SharedApi9DD7A97D
            - /
            - Ref: SharedApiDeploymentStageprod267E5D0B
            - /GET/surveys
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/surveys/GET/ApiPermission.OdAppCdkStackSharedApi3F29C5BE.GET..surveys
  SharedApisurveysGETApiPermissionTestOdAppCdkStackSharedApi3F29C5BEGETsurveys784F992F:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - ResponseSetsHandlerE53CA90B
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:"
            - Ref: AWS::Partition
            - ":execute-api:"
            - Ref: AWS::Region
            - ":"
            - Ref: AWS::AccountId
            - ":"
            - Ref: SharedApi9DD7A97D
            - /test-invoke-stage/GET/surveys
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/surveys/GET/ApiPermission.Test.OdAppCdkStackSharedApi3F29C5BE.GET..surveys
  SharedApisurveysGET3E8D0BBF:
    Type: AWS::ApiGateway::Method
    Properties:
      AuthorizationType: NONE
      HttpMethod: GET
      Integration:
        IntegrationHttpMethod: POST
        Type: AWS_PROXY
        Uri:
          Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - ":apigateway:"
              - Ref: AWS::Region
              - :lambda:path/2015-03-31/functions/
              - Fn::GetAtt:
                  - ResponseSetsHandlerE53CA90B
                  - Arn
              - /invocations
      ResourceId:
        Ref: SharedApisurveys027D48D1
      RestApiId:
        Ref: SharedApi9DD7A97D
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/surveys/GET/Resource
  SharedApisurveytypes7F44F295:
    Type: AWS::ApiGateway::Resource
    Properties:
      ParentId:
        Fn::GetAtt:
          - SharedApi9DD7A97D
          - RootResourceId
      PathPart: survey-types
      RestApiId:
        Ref: SharedApi9DD7A97D
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/survey-types/Resource
  SharedApisurveytypesOPTIONS91DF42AE:
    Type: AWS::ApiGateway::Method
    Properties:
      ApiKeyRequired: false
      AuthorizationType: NONE
      HttpMethod: OPTIONS
      Integration:
        IntegrationResponses:
          - ResponseParameters:
              method.response.header.Access-Control-Allow-Headers: "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'"
              method.response.header.Access-Control-Allow-Origin: "'*'"
              method.response.header.Access-Control-Allow-Methods: "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
            StatusCode: "200"
        RequestTemplates:
          application/json: "{ statusCode: 200 }"
        Type: MOCK
      MethodResponses:
        - ResponseParameters:
            method.response.header.Access-Control-Allow-Headers: true
            method.response.header.Access-Control-Allow-Origin: true
            method.response.header.Access-Control-Allow-Methods: true
          StatusCode: "200"
      ResourceId:
        Ref: SharedApisurveytypes7F44F295
      RestApiId:
        Ref: SharedApi9DD7A97D
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/survey-types/OPTIONS/Resource
  SharedApisurveytypesid05B96FA3:
    Type: AWS::ApiGateway::Resource
    Properties:
      ParentId:
        Ref: SharedApisurveytypes7F44F295
      PathPart: "{id}"
      RestApiId:
        Ref: SharedApi9DD7A97D
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/survey-types/{id}/Resource
  SharedApisurveytypesidOPTIONS43C5BF9E:
    Type: AWS::ApiGateway::Method
    Properties:
      ApiKeyRequired: false
      AuthorizationType: NONE
      HttpMethod: OPTIONS
      Integration:
        IntegrationResponses:
          - ResponseParameters:
              method.response.header.Access-Control-Allow-Headers: "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'"
              method.response.header.Access-Control-Allow-Origin: "'*'"
              method.response.header.Access-Control-Allow-Methods: "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
            StatusCode: "200"
        RequestTemplates:
          application/json: "{ statusCode: 200 }"
        Type: MOCK
      MethodResponses:
        - ResponseParameters:
            method.response.header.Access-Control-Allow-Headers: true
            method.response.header.Access-Control-Allow-Origin: true
            method.response.header.Access-Control-Allow-Methods: true
          StatusCode: "200"
      ResourceId:
        Ref: SharedApisurveytypesid05B96FA3
      RestApiId:
        Ref: SharedApi9DD7A97D
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/survey-types/{id}/OPTIONS/Resource
  SharedApisurveytypesidPATCHApiPermissionOdAppCdkStackSharedApi3F29C5BEPATCHsurveytypesidFF671D2A:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - SurveyTypesHandlerD3E0EB76
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:"
            - Ref: AWS::Partition
            - ":execute-api:"
            - Ref: AWS::Region
            - ":"
            - Ref: AWS::AccountId
            - ":"
            - Ref: SharedApi9DD7A97D
            - /
            - Ref: SharedApiDeploymentStageprod267E5D0B
            - /PATCH/survey-types/*
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/survey-types/{id}/PATCH/ApiPermission.OdAppCdkStackSharedApi3F29C5BE.PATCH..survey-types.{id}
  SharedApisurveytypesidPATCHApiPermissionTestOdAppCdkStackSharedApi3F29C5BEPATCHsurveytypesidB679309C:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - SurveyTypesHandlerD3E0EB76
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:"
            - Ref: AWS::Partition
            - ":execute-api:"
            - Ref: AWS::Region
            - ":"
            - Ref: AWS::AccountId
            - ":"
            - Ref: SharedApi9DD7A97D
            - /test-invoke-stage/PATCH/survey-types/*
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/survey-types/{id}/PATCH/ApiPermission.Test.OdAppCdkStackSharedApi3F29C5BE.PATCH..survey-types.{id}
  SharedApisurveytypesidPATCH432DBF27:
    Type: AWS::ApiGateway::Method
    Properties:
      AuthorizationType: NONE
      HttpMethod: PATCH
      Integration:
        IntegrationHttpMethod: POST
        Type: AWS_PROXY
        Uri:
          Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - ":apigateway:"
              - Ref: AWS::Region
              - :lambda:path/2015-03-31/functions/
              - Fn::GetAtt:
                  - SurveyTypesHandlerD3E0EB76
                  - Arn
              - /invocations
      ResourceId:
        Ref: SharedApisurveytypesid05B96FA3
      RestApiId:
        Ref: SharedApi9DD7A97D
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/survey-types/{id}/PATCH/Resource
  SharedApisurveytypesidGETApiPermissionOdAppCdkStackSharedApi3F29C5BEGETsurveytypesid06AA1D1D:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - SurveyTypesHandlerD3E0EB76
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:"
            - Ref: AWS::Partition
            - ":execute-api:"
            - Ref: AWS::Region
            - ":"
            - Ref: AWS::AccountId
            - ":"
            - Ref: SharedApi9DD7A97D
            - /
            - Ref: SharedApiDeploymentStageprod267E5D0B
            - /GET/survey-types/*
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/survey-types/{id}/GET/ApiPermission.OdAppCdkStackSharedApi3F29C5BE.GET..survey-types.{id}
  SharedApisurveytypesidGETApiPermissionTestOdAppCdkStackSharedApi3F29C5BEGETsurveytypesid7E97EE3F:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - SurveyTypesHandlerD3E0EB76
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:"
            - Ref: AWS::Partition
            - ":execute-api:"
            - Ref: AWS::Region
            - ":"
            - Ref: AWS::AccountId
            - ":"
            - Ref: SharedApi9DD7A97D
            - /test-invoke-stage/GET/survey-types/*
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/survey-types/{id}/GET/ApiPermission.Test.OdAppCdkStackSharedApi3F29C5BE.GET..survey-types.{id}
  SharedApisurveytypesidGETEB94C552:
    Type: AWS::ApiGateway::Method
    Properties:
      AuthorizationType: NONE
      HttpMethod: GET
      Integration:
        IntegrationHttpMethod: POST
        Type: AWS_PROXY
        Uri:
          Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - ":apigateway:"
              - Ref: AWS::Region
              - :lambda:path/2015-03-31/functions/
              - Fn::GetAtt:
                  - SurveyTypesHandlerD3E0EB76
                  - Arn
              - /invocations
      ResourceId:
        Ref: SharedApisurveytypesid05B96FA3
      RestApiId:
        Ref: SharedApi9DD7A97D
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/survey-types/{id}/GET/Resource
  SharedApisurveytypesPOSTApiPermissionOdAppCdkStackSharedApi3F29C5BEPOSTsurveytypesE740B662:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - SurveyTypesHandlerD3E0EB76
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:"
            - Ref: AWS::Partition
            - ":execute-api:"
            - Ref: AWS::Region
            - ":"
            - Ref: AWS::AccountId
            - ":"
            - Ref: SharedApi9DD7A97D
            - /
            - Ref: SharedApiDeploymentStageprod267E5D0B
            - /POST/survey-types
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/survey-types/POST/ApiPermission.OdAppCdkStackSharedApi3F29C5BE.POST..survey-types
  SharedApisurveytypesPOSTApiPermissionTestOdAppCdkStackSharedApi3F29C5BEPOSTsurveytypes9DCC11B0:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - SurveyTypesHandlerD3E0EB76
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:"
            - Ref: AWS::Partition
            - ":execute-api:"
            - Ref: AWS::Region
            - ":"
            - Ref: AWS::AccountId
            - ":"
            - Ref: SharedApi9DD7A97D
            - /test-invoke-stage/POST/survey-types
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/survey-types/POST/ApiPermission.Test.OdAppCdkStackSharedApi3F29C5BE.POST..survey-types
  SharedApisurveytypesPOST7EE978CF:
    Type: AWS::ApiGateway::Method
    Properties:
      AuthorizationType: NONE
      HttpMethod: POST
      Integration:
        IntegrationHttpMethod: POST
        Type: AWS_PROXY
        Uri:
          Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - ":apigateway:"
              - Ref: AWS::Region
              - :lambda:path/2015-03-31/functions/
              - Fn::GetAtt:
                  - SurveyTypesHandlerD3E0EB76
                  - Arn
              - /invocations
      ResourceId:
        Ref: SharedApisurveytypes7F44F295
      RestApiId:
        Ref: SharedApi9DD7A97D
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/survey-types/POST/Resource
  SharedApisurveytypesGETApiPermissionOdAppCdkStackSharedApi3F29C5BEGETsurveytypes893CC03E:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - SurveyTypesHandlerD3E0EB76
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:"
            - Ref: AWS::Partition
            - ":execute-api:"
            - Ref: AWS::Region
            - ":"
            - Ref: AWS::AccountId
            - ":"
            - Ref: SharedApi9DD7A97D
            - /
            - Ref: SharedApiDeploymentStageprod267E5D0B
            - /GET/survey-types
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/survey-types/GET/ApiPermission.OdAppCdkStackSharedApi3F29C5BE.GET..survey-types
  SharedApisurveytypesGETApiPermissionTestOdAppCdkStackSharedApi3F29C5BEGETsurveytypesFA9FB319:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - SurveyTypesHandlerD3E0EB76
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:"
            - Ref: AWS::Partition
            - ":execute-api:"
            - Ref: AWS::Region
            - ":"
            - Ref: AWS::AccountId
            - ":"
            - Ref: SharedApi9DD7A97D
            - /test-invoke-stage/GET/survey-types
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/survey-types/GET/ApiPermission.Test.OdAppCdkStackSharedApi3F29C5BE.GET..survey-types
  SharedApisurveytypesGET2EEA70B3:
    Type: AWS::ApiGateway::Method
    Properties:
      AuthorizationType: NONE
      HttpMethod: GET
      Integration:
        IntegrationHttpMethod: POST
        Type: AWS_PROXY
        Uri:
          Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - ":apigateway:"
              - Ref: AWS::Region
              - :lambda:path/2015-03-31/functions/
              - Fn::GetAtt:
                  - SurveyTypesHandlerD3E0EB76
                  - Arn
              - /invocations
      ResourceId:
        Ref: SharedApisurveytypes7F44F295
      RestApiId:
        Ref: SharedApi9DD7A97D
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/survey-types/GET/Resource
  SharedApiusers606E5ECC:
    Type: AWS::ApiGateway::Resource
    Properties:
      ParentId:
        Fn::GetAtt:
          - SharedApi9DD7A97D
          - RootResourceId
      PathPart: users
      RestApiId:
        Ref: SharedApi9DD7A97D
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/users/Resource
  SharedApiusersOPTIONS161ACC7F:
    Type: AWS::ApiGateway::Method
    Properties:
      ApiKeyRequired: false
      AuthorizationType: NONE
      HttpMethod: OPTIONS
      Integration:
        IntegrationResponses:
          - ResponseParameters:
              method.response.header.Access-Control-Allow-Headers: "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'"
              method.response.header.Access-Control-Allow-Origin: "'*'"
              method.response.header.Access-Control-Allow-Methods: "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
            StatusCode: "200"
        RequestTemplates:
          application/json: "{ statusCode: 200 }"
        Type: MOCK
      MethodResponses:
        - ResponseParameters:
            method.response.header.Access-Control-Allow-Headers: true
            method.response.header.Access-Control-Allow-Origin: true
            method.response.header.Access-Control-Allow-Methods: true
          StatusCode: "200"
      ResourceId:
        Ref: SharedApiusers606E5ECC
      RestApiId:
        Ref: SharedApi9DD7A97D
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/users/OPTIONS/Resource
  SharedApiusersidA9F9F3AB:
    Type: AWS::ApiGateway::Resource
    Properties:
      ParentId:
        Ref: SharedApiusers606E5ECC
      PathPart: "{id}"
      RestApiId:
        Ref: SharedApi9DD7A97D
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/users/{id}/Resource
  SharedApiusersidOPTIONS051D8482:
    Type: AWS::ApiGateway::Method
    Properties:
      ApiKeyRequired: false
      AuthorizationType: NONE
      HttpMethod: OPTIONS
      Integration:
        IntegrationResponses:
          - ResponseParameters:
              method.response.header.Access-Control-Allow-Headers: "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'"
              method.response.header.Access-Control-Allow-Origin: "'*'"
              method.response.header.Access-Control-Allow-Methods: "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
            StatusCode: "200"
        RequestTemplates:
          application/json: "{ statusCode: 200 }"
        Type: MOCK
      MethodResponses:
        - ResponseParameters:
            method.response.header.Access-Control-Allow-Headers: true
            method.response.header.Access-Control-Allow-Origin: true
            method.response.header.Access-Control-Allow-Methods: true
          StatusCode: "200"
      ResourceId:
        Ref: SharedApiusersidA9F9F3AB
      RestApiId:
        Ref: SharedApi9DD7A97D
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/users/{id}/OPTIONS/Resource
  SharedApiusersidPATCHApiPermissionOdAppCdkStackSharedApi3F29C5BEPATCHusersid82825483:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - UsersHandler8E03FD62
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:"
            - Ref: AWS::Partition
            - ":execute-api:"
            - Ref: AWS::Region
            - ":"
            - Ref: AWS::AccountId
            - ":"
            - Ref: SharedApi9DD7A97D
            - /
            - Ref: SharedApiDeploymentStageprod267E5D0B
            - /PATCH/users/*
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/users/{id}/PATCH/ApiPermission.OdAppCdkStackSharedApi3F29C5BE.PATCH..users.{id}
  SharedApiusersidPATCHApiPermissionTestOdAppCdkStackSharedApi3F29C5BEPATCHusersid0FF68670:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - UsersHandler8E03FD62
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:"
            - Ref: AWS::Partition
            - ":execute-api:"
            - Ref: AWS::Region
            - ":"
            - Ref: AWS::AccountId
            - ":"
            - Ref: SharedApi9DD7A97D
            - /test-invoke-stage/PATCH/users/*
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/users/{id}/PATCH/ApiPermission.Test.OdAppCdkStackSharedApi3F29C5BE.PATCH..users.{id}
  SharedApiusersidPATCH6FF9A306:
    Type: AWS::ApiGateway::Method
    Properties:
      AuthorizationType: NONE
      HttpMethod: PATCH
      Integration:
        IntegrationHttpMethod: POST
        Type: AWS_PROXY
        Uri:
          Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - ":apigateway:"
              - Ref: AWS::Region
              - :lambda:path/2015-03-31/functions/
              - Fn::GetAtt:
                  - UsersHandler8E03FD62
                  - Arn
              - /invocations
      ResourceId:
        Ref: SharedApiusersidA9F9F3AB
      RestApiId:
        Ref: SharedApi9DD7A97D
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/users/{id}/PATCH/Resource
  SharedApiusersidDELETEApiPermissionOdAppCdkStackSharedApi3F29C5BEDELETEusersid7D65C8BA:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - UsersHandler8E03FD62
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:"
            - Ref: AWS::Partition
            - ":execute-api:"
            - Ref: AWS::Region
            - ":"
            - Ref: AWS::AccountId
            - ":"
            - Ref: SharedApi9DD7A97D
            - /
            - Ref: SharedApiDeploymentStageprod267E5D0B
            - /DELETE/users/*
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/users/{id}/DELETE/ApiPermission.OdAppCdkStackSharedApi3F29C5BE.DELETE..users.{id}
  SharedApiusersidDELETEApiPermissionTestOdAppCdkStackSharedApi3F29C5BEDELETEusersid13F7E9F5:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - UsersHandler8E03FD62
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:"
            - Ref: AWS::Partition
            - ":execute-api:"
            - Ref: AWS::Region
            - ":"
            - Ref: AWS::AccountId
            - ":"
            - Ref: SharedApi9DD7A97D
            - /test-invoke-stage/DELETE/users/*
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/users/{id}/DELETE/ApiPermission.Test.OdAppCdkStackSharedApi3F29C5BE.DELETE..users.{id}
  SharedApiusersidDELETE5A1E2DD7:
    Type: AWS::ApiGateway::Method
    Properties:
      AuthorizationType: NONE
      HttpMethod: DELETE
      Integration:
        IntegrationHttpMethod: POST
        Type: AWS_PROXY
        Uri:
          Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - ":apigateway:"
              - Ref: AWS::Region
              - :lambda:path/2015-03-31/functions/
              - Fn::GetAtt:
                  - UsersHandler8E03FD62
                  - Arn
              - /invocations
      ResourceId:
        Ref: SharedApiusersidA9F9F3AB
      RestApiId:
        Ref: SharedApi9DD7A97D
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/users/{id}/DELETE/Resource
  SharedApiusersidGETApiPermissionOdAppCdkStackSharedApi3F29C5BEGETusersid503C5160:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - UsersHandler8E03FD62
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:"
            - Ref: AWS::Partition
            - ":execute-api:"
            - Ref: AWS::Region
            - ":"
            - Ref: AWS::AccountId
            - ":"
            - Ref: SharedApi9DD7A97D
            - /
            - Ref: SharedApiDeploymentStageprod267E5D0B
            - /GET/users/*
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/users/{id}/GET/ApiPermission.OdAppCdkStackSharedApi3F29C5BE.GET..users.{id}
  SharedApiusersidGETApiPermissionTestOdAppCdkStackSharedApi3F29C5BEGETusersidF057F03A:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - UsersHandler8E03FD62
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:"
            - Ref: AWS::Partition
            - ":execute-api:"
            - Ref: AWS::Region
            - ":"
            - Ref: AWS::AccountId
            - ":"
            - Ref: SharedApi9DD7A97D
            - /test-invoke-stage/GET/users/*
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/users/{id}/GET/ApiPermission.Test.OdAppCdkStackSharedApi3F29C5BE.GET..users.{id}
  SharedApiusersidGETC927DA8A:
    Type: AWS::ApiGateway::Method
    Properties:
      AuthorizationType: NONE
      HttpMethod: GET
      Integration:
        IntegrationHttpMethod: POST
        Type: AWS_PROXY
        Uri:
          Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - ":apigateway:"
              - Ref: AWS::Region
              - :lambda:path/2015-03-31/functions/
              - Fn::GetAtt:
                  - UsersHandler8E03FD62
                  - Arn
              - /invocations
      ResourceId:
        Ref: SharedApiusersidA9F9F3AB
      RestApiId:
        Ref: SharedApi9DD7A97D
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/users/{id}/GET/Resource
  SharedApiusersPOSTApiPermissionOdAppCdkStackSharedApi3F29C5BEPOSTusersFC2F99E5:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - UsersHandler8E03FD62
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:"
            - Ref: AWS::Partition
            - ":execute-api:"
            - Ref: AWS::Region
            - ":"
            - Ref: AWS::AccountId
            - ":"
            - Ref: SharedApi9DD7A97D
            - /
            - Ref: SharedApiDeploymentStageprod267E5D0B
            - /POST/users
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/users/POST/ApiPermission.OdAppCdkStackSharedApi3F29C5BE.POST..users
  SharedApiusersPOSTApiPermissionTestOdAppCdkStackSharedApi3F29C5BEPOSTusersA7AF72E1:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - UsersHandler8E03FD62
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:"
            - Ref: AWS::Partition
            - ":execute-api:"
            - Ref: AWS::Region
            - ":"
            - Ref: AWS::AccountId
            - ":"
            - Ref: SharedApi9DD7A97D
            - /test-invoke-stage/POST/users
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/users/POST/ApiPermission.Test.OdAppCdkStackSharedApi3F29C5BE.POST..users
  SharedApiusersPOSTB5A5C6D7:
    Type: AWS::ApiGateway::Method
    Properties:
      AuthorizationType: NONE
      HttpMethod: POST
      Integration:
        IntegrationHttpMethod: POST
        Type: AWS_PROXY
        Uri:
          Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - ":apigateway:"
              - Ref: AWS::Region
              - :lambda:path/2015-03-31/functions/
              - Fn::GetAtt:
                  - UsersHandler8E03FD62
                  - Arn
              - /invocations
      ResourceId:
        Ref: SharedApiusers606E5ECC
      RestApiId:
        Ref: SharedApi9DD7A97D
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/users/POST/Resource
  SharedApiusersGETApiPermissionOdAppCdkStackSharedApi3F29C5BEGETusersA46BFCB5:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - UsersHandler8E03FD62
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:"
            - Ref: AWS::Partition
            - ":execute-api:"
            - Ref: AWS::Region
            - ":"
            - Ref: AWS::AccountId
            - ":"
            - Ref: SharedApi9DD7A97D
            - /
            - Ref: SharedApiDeploymentStageprod267E5D0B
            - /GET/users
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/users/GET/ApiPermission.OdAppCdkStackSharedApi3F29C5BE.GET..users
  SharedApiusersGETApiPermissionTestOdAppCdkStackSharedApi3F29C5BEGETusersE81F5E0F:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - UsersHandler8E03FD62
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:"
            - Ref: AWS::Partition
            - ":execute-api:"
            - Ref: AWS::Region
            - ":"
            - Ref: AWS::AccountId
            - ":"
            - Ref: SharedApi9DD7A97D
            - /test-invoke-stage/GET/users
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/users/GET/ApiPermission.Test.OdAppCdkStackSharedApi3F29C5BE.GET..users
  SharedApiusersGETBBFC681B:
    Type: AWS::ApiGateway::Method
    Properties:
      AuthorizationType: NONE
      HttpMethod: GET
      Integration:
        IntegrationHttpMethod: POST
        Type: AWS_PROXY
        Uri:
          Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - ":apigateway:"
              - Ref: AWS::Region
              - :lambda:path/2015-03-31/functions/
              - Fn::GetAtt:
                  - UsersHandler8E03FD62
                  - Arn
              - /invocations
      ResourceId:
        Ref: SharedApiusers606E5ECC
      RestApiId:
        Ref: SharedApi9DD7A97D
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/users/GET/Resource
  SharedApirespondentsD3C9718F:
    Type: AWS::ApiGateway::Resource
    Properties:
      ParentId:
        Fn::GetAtt:
          - SharedApi9DD7A97D
          - RootResourceId
      PathPart: respondents
      RestApiId:
        Ref: SharedApi9DD7A97D
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/respondents/Resource
  SharedApirespondentsOPTIONS7CC39EE6:
    Type: AWS::ApiGateway::Method
    Properties:
      ApiKeyRequired: false
      AuthorizationType: NONE
      HttpMethod: OPTIONS
      Integration:
        IntegrationResponses:
          - ResponseParameters:
              method.response.header.Access-Control-Allow-Headers: "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'"
              method.response.header.Access-Control-Allow-Origin: "'*'"
              method.response.header.Access-Control-Allow-Methods: "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
            StatusCode: "200"
        RequestTemplates:
          application/json: "{ statusCode: 200 }"
        Type: MOCK
      MethodResponses:
        - ResponseParameters:
            method.response.header.Access-Control-Allow-Headers: true
            method.response.header.Access-Control-Allow-Origin: true
            method.response.header.Access-Control-Allow-Methods: true
          StatusCode: "200"
      ResourceId:
        Ref: SharedApirespondentsD3C9718F
      RestApiId:
        Ref: SharedApi9DD7A97D
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/respondents/OPTIONS/Resource
  SharedApirespondentsPOSTApiPermissionOdAppCdkStackSharedApi3F29C5BEPOSTrespondents5726081C:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - RespondentsHandler852521B0
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:"
            - Ref: AWS::Partition
            - ":execute-api:"
            - Ref: AWS::Region
            - ":"
            - Ref: AWS::AccountId
            - ":"
            - Ref: SharedApi9DD7A97D
            - /
            - Ref: SharedApiDeploymentStageprod267E5D0B
            - /POST/respondents
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/respondents/POST/ApiPermission.OdAppCdkStackSharedApi3F29C5BE.POST..respondents
  SharedApirespondentsPOSTApiPermissionTestOdAppCdkStackSharedApi3F29C5BEPOSTrespondents98EE5C35:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - RespondentsHandler852521B0
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:"
            - Ref: AWS::Partition
            - ":execute-api:"
            - Ref: AWS::Region
            - ":"
            - Ref: AWS::AccountId
            - ":"
            - Ref: SharedApi9DD7A97D
            - /test-invoke-stage/POST/respondents
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/respondents/POST/ApiPermission.Test.OdAppCdkStackSharedApi3F29C5BE.POST..respondents
  SharedApirespondentsPOST0CCA3198:
    Type: AWS::ApiGateway::Method
    Properties:
      AuthorizationType: NONE
      HttpMethod: POST
      Integration:
        IntegrationHttpMethod: POST
        Type: AWS_PROXY
        Uri:
          Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - ":apigateway:"
              - Ref: AWS::Region
              - :lambda:path/2015-03-31/functions/
              - Fn::GetAtt:
                  - RespondentsHandler852521B0
                  - Arn
              - /invocations
      ResourceId:
        Ref: SharedApirespondentsD3C9718F
      RestApiId:
        Ref: SharedApi9DD7A97D
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/respondents/POST/Resource
  SharedApirespondentsGETApiPermissionOdAppCdkStackSharedApi3F29C5BEGETrespondents923575C2:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - RespondentsHandler852521B0
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:"
            - Ref: AWS::Partition
            - ":execute-api:"
            - Ref: AWS::Region
            - ":"
            - Ref: AWS::AccountId
            - ":"
            - Ref: SharedApi9DD7A97D
            - /
            - Ref: SharedApiDeploymentStageprod267E5D0B
            - /GET/respondents
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/respondents/GET/ApiPermission.OdAppCdkStackSharedApi3F29C5BE.GET..respondents
  SharedApirespondentsGETApiPermissionTestOdAppCdkStackSharedApi3F29C5BEGETrespondents51279D90:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - RespondentsHandler852521B0
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:"
            - Ref: AWS::Partition
            - ":execute-api:"
            - Ref: AWS::Region
            - ":"
            - Ref: AWS::AccountId
            - ":"
            - Ref: SharedApi9DD7A97D
            - /test-invoke-stage/GET/respondents
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/respondents/GET/ApiPermission.Test.OdAppCdkStackSharedApi3F29C5BE.GET..respondents
  SharedApirespondentsGET41052E39:
    Type: AWS::ApiGateway::Method
    Properties:
      AuthorizationType: NONE
      HttpMethod: GET
      Integration:
        IntegrationHttpMethod: POST
        Type: AWS_PROXY
        Uri:
          Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - ":apigateway:"
              - Ref: AWS::Region
              - :lambda:path/2015-03-31/functions/
              - Fn::GetAtt:
                  - RespondentsHandler852521B0
                  - Arn
              - /invocations
      ResourceId:
        Ref: SharedApirespondentsD3C9718F
      RestApiId:
        Ref: SharedApi9DD7A97D
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/respondents/GET/Resource
  SharedApirespondentsPATCHApiPermissionOdAppCdkStackSharedApi3F29C5BEPATCHrespondentsCC7D44F3:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - RespondentsHandler852521B0
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:"
            - Ref: AWS::Partition
            - ":execute-api:"
            - Ref: AWS::Region
            - ":"
            - Ref: AWS::AccountId
            - ":"
            - Ref: SharedApi9DD7A97D
            - /
            - Ref: SharedApiDeploymentStageprod267E5D0B
            - /PATCH/respondents
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/respondents/PATCH/ApiPermission.OdAppCdkStackSharedApi3F29C5BE.PATCH..respondents
  SharedApirespondentsPATCHApiPermissionTestOdAppCdkStackSharedApi3F29C5BEPATCHrespondentsCDD19AC2:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - RespondentsHandler852521B0
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:"
            - Ref: AWS::Partition
            - ":execute-api:"
            - Ref: AWS::Region
            - ":"
            - Ref: AWS::AccountId
            - ":"
            - Ref: SharedApi9DD7A97D
            - /test-invoke-stage/PATCH/respondents
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/respondents/PATCH/ApiPermission.Test.OdAppCdkStackSharedApi3F29C5BE.PATCH..respondents
  SharedApirespondentsPATCH14DEBFF5:
    Type: AWS::ApiGateway::Method
    Properties:
      AuthorizationType: NONE
      HttpMethod: PATCH
      Integration:
        IntegrationHttpMethod: POST
        Type: AWS_PROXY
        Uri:
          Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - ":apigateway:"
              - Ref: AWS::Region
              - :lambda:path/2015-03-31/functions/
              - Fn::GetAtt:
                  - RespondentsHandler852521B0
                  - Arn
              - /invocations
      ResourceId:
        Ref: SharedApirespondentsD3C9718F
      RestApiId:
        Ref: SharedApi9DD7A97D
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/respondents/PATCH/Resource
  SharedApirespondentsidE987E4BC:
    Type: AWS::ApiGateway::Resource
    Properties:
      ParentId:
        Ref: SharedApirespondentsD3C9718F
      PathPart: "{id}"
      RestApiId:
        Ref: SharedApi9DD7A97D
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/respondents/{id}/Resource
  SharedApirespondentsidOPTIONS26904220:
    Type: AWS::ApiGateway::Method
    Properties:
      ApiKeyRequired: false
      AuthorizationType: NONE
      HttpMethod: OPTIONS
      Integration:
        IntegrationResponses:
          - ResponseParameters:
              method.response.header.Access-Control-Allow-Headers: "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'"
              method.response.header.Access-Control-Allow-Origin: "'*'"
              method.response.header.Access-Control-Allow-Methods: "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
            StatusCode: "200"
        RequestTemplates:
          application/json: "{ statusCode: 200 }"
        Type: MOCK
      MethodResponses:
        - ResponseParameters:
            method.response.header.Access-Control-Allow-Headers: true
            method.response.header.Access-Control-Allow-Origin: true
            method.response.header.Access-Control-Allow-Methods: true
          StatusCode: "200"
      ResourceId:
        Ref: SharedApirespondentsidE987E4BC
      RestApiId:
        Ref: SharedApi9DD7A97D
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/respondents/{id}/OPTIONS/Resource
  SharedApirespondentsidDELETEApiPermissionOdAppCdkStackSharedApi3F29C5BEDELETErespondentsid6FE86E0C:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - RespondentsHandler852521B0
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:"
            - Ref: AWS::Partition
            - ":execute-api:"
            - Ref: AWS::Region
            - ":"
            - Ref: AWS::AccountId
            - ":"
            - Ref: SharedApi9DD7A97D
            - /
            - Ref: SharedApiDeploymentStageprod267E5D0B
            - /DELETE/respondents/*
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/respondents/{id}/DELETE/ApiPermission.OdAppCdkStackSharedApi3F29C5BE.DELETE..respondents.{id}
  SharedApirespondentsidDELETEApiPermissionTestOdAppCdkStackSharedApi3F29C5BEDELETErespondentsid93C18142:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - RespondentsHandler852521B0
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:"
            - Ref: AWS::Partition
            - ":execute-api:"
            - Ref: AWS::Region
            - ":"
            - Ref: AWS::AccountId
            - ":"
            - Ref: SharedApi9DD7A97D
            - /test-invoke-stage/DELETE/respondents/*
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/respondents/{id}/DELETE/ApiPermission.Test.OdAppCdkStackSharedApi3F29C5BE.DELETE..respondents.{id}
  SharedApirespondentsidDELETEF36A3F37:
    Type: AWS::ApiGateway::Method
    Properties:
      AuthorizationType: NONE
      HttpMethod: DELETE
      Integration:
        IntegrationHttpMethod: POST
        Type: AWS_PROXY
        Uri:
          Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - ":apigateway:"
              - Ref: AWS::Region
              - :lambda:path/2015-03-31/functions/
              - Fn::GetAtt:
                  - RespondentsHandler852521B0
                  - Arn
              - /invocations
      ResourceId:
        Ref: SharedApirespondentsidE987E4BC
      RestApiId:
        Ref: SharedApi9DD7A97D
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/respondents/{id}/DELETE/Resource
  SharedApirespondentsidGETApiPermissionOdAppCdkStackSharedApi3F29C5BEGETrespondentsid3F77F34C:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - RespondentsHandler852521B0
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:"
            - Ref: AWS::Partition
            - ":execute-api:"
            - Ref: AWS::Region
            - ":"
            - Ref: AWS::AccountId
            - ":"
            - Ref: SharedApi9DD7A97D
            - /
            - Ref: SharedApiDeploymentStageprod267E5D0B
            - /GET/respondents/*
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/respondents/{id}/GET/ApiPermission.OdAppCdkStackSharedApi3F29C5BE.GET..respondents.{id}
  SharedApirespondentsidGETApiPermissionTestOdAppCdkStackSharedApi3F29C5BEGETrespondentsid309518F4:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - RespondentsHandler852521B0
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:"
            - Ref: AWS::Partition
            - ":execute-api:"
            - Ref: AWS::Region
            - ":"
            - Ref: AWS::AccountId
            - ":"
            - Ref: SharedApi9DD7A97D
            - /test-invoke-stage/GET/respondents/*
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/respondents/{id}/GET/ApiPermission.Test.OdAppCdkStackSharedApi3F29C5BE.GET..respondents.{id}
  SharedApirespondentsidGET235D39F9:
    Type: AWS::ApiGateway::Method
    Properties:
      AuthorizationType: NONE
      HttpMethod: GET
      Integration:
        IntegrationHttpMethod: POST
        Type: AWS_PROXY
        Uri:
          Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - ":apigateway:"
              - Ref: AWS::Region
              - :lambda:path/2015-03-31/functions/
              - Fn::GetAtt:
                  - RespondentsHandler852521B0
                  - Arn
              - /invocations
      ResourceId:
        Ref: SharedApirespondentsidE987E4BC
      RestApiId:
        Ref: SharedApi9DD7A97D
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/respondents/{id}/GET/Resource
  SharedApirespondentsidPATCHApiPermissionOdAppCdkStackSharedApi3F29C5BEPATCHrespondentsid68AD7F72:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - RespondentsHandler852521B0
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:"
            - Ref: AWS::Partition
            - ":execute-api:"
            - Ref: AWS::Region
            - ":"
            - Ref: AWS::AccountId
            - ":"
            - Ref: SharedApi9DD7A97D
            - /
            - Ref: SharedApiDeploymentStageprod267E5D0B
            - /PATCH/respondents/*
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/respondents/{id}/PATCH/ApiPermission.OdAppCdkStackSharedApi3F29C5BE.PATCH..respondents.{id}
  SharedApirespondentsidPATCHApiPermissionTestOdAppCdkStackSharedApi3F29C5BEPATCHrespondentsid0E857FE9:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - RespondentsHandler852521B0
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:"
            - Ref: AWS::Partition
            - ":execute-api:"
            - Ref: AWS::Region
            - ":"
            - Ref: AWS::AccountId
            - ":"
            - Ref: SharedApi9DD7A97D
            - /test-invoke-stage/PATCH/respondents/*
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/respondents/{id}/PATCH/ApiPermission.Test.OdAppCdkStackSharedApi3F29C5BE.PATCH..respondents.{id}
  SharedApirespondentsidPATCH6CF973CA:
    Type: AWS::ApiGateway::Method
    Properties:
      AuthorizationType: NONE
      HttpMethod: PATCH
      Integration:
        IntegrationHttpMethod: POST
        Type: AWS_PROXY
        Uri:
          Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - ":apigateway:"
              - Ref: AWS::Region
              - :lambda:path/2015-03-31/functions/
              - Fn::GetAtt:
                  - RespondentsHandler852521B0
                  - Arn
              - /invocations
      ResourceId:
        Ref: SharedApirespondentsidE987E4BC
      RestApiId:
        Ref: SharedApi9DD7A97D
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/respondents/{id}/PATCH/Resource
  SharedApiclients597C8EB0:
    Type: AWS::ApiGateway::Resource
    Properties:
      ParentId:
        Fn::GetAtt:
          - SharedApi9DD7A97D
          - RootResourceId
      PathPart: clients
      RestApiId:
        Ref: SharedApi9DD7A97D
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/clients/Resource
  SharedApiclientsOPTIONS36151B4A:
    Type: AWS::ApiGateway::Method
    Properties:
      ApiKeyRequired: false
      AuthorizationType: NONE
      HttpMethod: OPTIONS
      Integration:
        IntegrationResponses:
          - ResponseParameters:
              method.response.header.Access-Control-Allow-Headers: "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'"
              method.response.header.Access-Control-Allow-Origin: "'*'"
              method.response.header.Access-Control-Allow-Methods: "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
            StatusCode: "200"
        RequestTemplates:
          application/json: "{ statusCode: 200 }"
        Type: MOCK
      MethodResponses:
        - ResponseParameters:
            method.response.header.Access-Control-Allow-Headers: true
            method.response.header.Access-Control-Allow-Origin: true
            method.response.header.Access-Control-Allow-Methods: true
          StatusCode: "200"
      ResourceId:
        Ref: SharedApiclients597C8EB0
      RestApiId:
        Ref: SharedApi9DD7A97D
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/clients/OPTIONS/Resource
  SharedApiclientsidF19F2F7D:
    Type: AWS::ApiGateway::Resource
    Properties:
      ParentId:
        Ref: SharedApiclients597C8EB0
      PathPart: "{id}"
      RestApiId:
        Ref: SharedApi9DD7A97D
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/clients/{id}/Resource
  SharedApiclientsidOPTIONS70166C2A:
    Type: AWS::ApiGateway::Method
    Properties:
      ApiKeyRequired: false
      AuthorizationType: NONE
      HttpMethod: OPTIONS
      Integration:
        IntegrationResponses:
          - ResponseParameters:
              method.response.header.Access-Control-Allow-Headers: "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'"
              method.response.header.Access-Control-Allow-Origin: "'*'"
              method.response.header.Access-Control-Allow-Methods: "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
            StatusCode: "200"
        RequestTemplates:
          application/json: "{ statusCode: 200 }"
        Type: MOCK
      MethodResponses:
        - ResponseParameters:
            method.response.header.Access-Control-Allow-Headers: true
            method.response.header.Access-Control-Allow-Origin: true
            method.response.header.Access-Control-Allow-Methods: true
          StatusCode: "200"
      ResourceId:
        Ref: SharedApiclientsidF19F2F7D
      RestApiId:
        Ref: SharedApi9DD7A97D
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/clients/{id}/OPTIONS/Resource
  SharedApiclientsidGETApiPermissionOdAppCdkStackSharedApi3F29C5BEGETclientsid109EEDCB:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - ClientsHandler81BF6285
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:"
            - Ref: AWS::Partition
            - ":execute-api:"
            - Ref: AWS::Region
            - ":"
            - Ref: AWS::AccountId
            - ":"
            - Ref: SharedApi9DD7A97D
            - /
            - Ref: SharedApiDeploymentStageprod267E5D0B
            - /GET/clients/*
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/clients/{id}/GET/ApiPermission.OdAppCdkStackSharedApi3F29C5BE.GET..clients.{id}
  SharedApiclientsidGETApiPermissionTestOdAppCdkStackSharedApi3F29C5BEGETclientsid0EDABA89:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - ClientsHandler81BF6285
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:"
            - Ref: AWS::Partition
            - ":execute-api:"
            - Ref: AWS::Region
            - ":"
            - Ref: AWS::AccountId
            - ":"
            - Ref: SharedApi9DD7A97D
            - /test-invoke-stage/GET/clients/*
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/clients/{id}/GET/ApiPermission.Test.OdAppCdkStackSharedApi3F29C5BE.GET..clients.{id}
  SharedApiclientsidGET5CF5A107:
    Type: AWS::ApiGateway::Method
    Properties:
      AuthorizationType: NONE
      HttpMethod: GET
      Integration:
        IntegrationHttpMethod: POST
        Type: AWS_PROXY
        Uri:
          Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - ":apigateway:"
              - Ref: AWS::Region
              - :lambda:path/2015-03-31/functions/
              - Fn::GetAtt:
                  - ClientsHandler81BF6285
                  - Arn
              - /invocations
      ResourceId:
        Ref: SharedApiclientsidF19F2F7D
      RestApiId:
        Ref: SharedApi9DD7A97D
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/clients/{id}/GET/Resource
  SharedApiclientsidPATCHApiPermissionOdAppCdkStackSharedApi3F29C5BEPATCHclientsidA0D052E9:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - ClientsHandler81BF6285
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:"
            - Ref: AWS::Partition
            - ":execute-api:"
            - Ref: AWS::Region
            - ":"
            - Ref: AWS::AccountId
            - ":"
            - Ref: SharedApi9DD7A97D
            - /
            - Ref: SharedApiDeploymentStageprod267E5D0B
            - /PATCH/clients/*
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/clients/{id}/PATCH/ApiPermission.OdAppCdkStackSharedApi3F29C5BE.PATCH..clients.{id}
  SharedApiclientsidPATCHApiPermissionTestOdAppCdkStackSharedApi3F29C5BEPATCHclientsid7080A82A:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - ClientsHandler81BF6285
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:"
            - Ref: AWS::Partition
            - ":execute-api:"
            - Ref: AWS::Region
            - ":"
            - Ref: AWS::AccountId
            - ":"
            - Ref: SharedApi9DD7A97D
            - /test-invoke-stage/PATCH/clients/*
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/clients/{id}/PATCH/ApiPermission.Test.OdAppCdkStackSharedApi3F29C5BE.PATCH..clients.{id}
  SharedApiclientsidPATCH6A16CB7A:
    Type: AWS::ApiGateway::Method
    Properties:
      AuthorizationType: NONE
      HttpMethod: PATCH
      Integration:
        IntegrationHttpMethod: POST
        Type: AWS_PROXY
        Uri:
          Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - ":apigateway:"
              - Ref: AWS::Region
              - :lambda:path/2015-03-31/functions/
              - Fn::GetAtt:
                  - ClientsHandler81BF6285
                  - Arn
              - /invocations
      ResourceId:
        Ref: SharedApiclientsidF19F2F7D
      RestApiId:
        Ref: SharedApi9DD7A97D
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/clients/{id}/PATCH/Resource
  SharedApiclientsPOSTApiPermissionOdAppCdkStackSharedApi3F29C5BEPOSTclients042D6749:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - ClientsHandler81BF6285
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:"
            - Ref: AWS::Partition
            - ":execute-api:"
            - Ref: AWS::Region
            - ":"
            - Ref: AWS::AccountId
            - ":"
            - Ref: SharedApi9DD7A97D
            - /
            - Ref: SharedApiDeploymentStageprod267E5D0B
            - /POST/clients
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/clients/POST/ApiPermission.OdAppCdkStackSharedApi3F29C5BE.POST..clients
  SharedApiclientsPOSTApiPermissionTestOdAppCdkStackSharedApi3F29C5BEPOSTclientsCAEF036A:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - ClientsHandler81BF6285
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:"
            - Ref: AWS::Partition
            - ":execute-api:"
            - Ref: AWS::Region
            - ":"
            - Ref: AWS::AccountId
            - ":"
            - Ref: SharedApi9DD7A97D
            - /test-invoke-stage/POST/clients
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/clients/POST/ApiPermission.Test.OdAppCdkStackSharedApi3F29C5BE.POST..clients
  SharedApiclientsPOSTCF6E3A27:
    Type: AWS::ApiGateway::Method
    Properties:
      AuthorizationType: NONE
      HttpMethod: POST
      Integration:
        IntegrationHttpMethod: POST
        Type: AWS_PROXY
        Uri:
          Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - ":apigateway:"
              - Ref: AWS::Region
              - :lambda:path/2015-03-31/functions/
              - Fn::GetAtt:
                  - ClientsHandler81BF6285
                  - Arn
              - /invocations
      ResourceId:
        Ref: SharedApiclients597C8EB0
      RestApiId:
        Ref: SharedApi9DD7A97D
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/clients/POST/Resource
  SharedApiclientsGETApiPermissionOdAppCdkStackSharedApi3F29C5BEGETclientsB8F0D503:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - ClientsHandler81BF6285
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:"
            - Ref: AWS::Partition
            - ":execute-api:"
            - Ref: AWS::Region
            - ":"
            - Ref: AWS::AccountId
            - ":"
            - Ref: SharedApi9DD7A97D
            - /
            - Ref: SharedApiDeploymentStageprod267E5D0B
            - /GET/clients
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/clients/GET/ApiPermission.OdAppCdkStackSharedApi3F29C5BE.GET..clients
  SharedApiclientsGETApiPermissionTestOdAppCdkStackSharedApi3F29C5BEGETclientsF943728E:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - ClientsHandler81BF6285
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:"
            - Ref: AWS::Partition
            - ":execute-api:"
            - Ref: AWS::Region
            - ":"
            - Ref: AWS::AccountId
            - ":"
            - Ref: SharedApi9DD7A97D
            - /test-invoke-stage/GET/clients
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/clients/GET/ApiPermission.Test.OdAppCdkStackSharedApi3F29C5BE.GET..clients
  SharedApiclientsGET5F33226A:
    Type: AWS::ApiGateway::Method
    Properties:
      AuthorizationType: NONE
      HttpMethod: GET
      Integration:
        IntegrationHttpMethod: POST
        Type: AWS_PROXY
        Uri:
          Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - ":apigateway:"
              - Ref: AWS::Region
              - :lambda:path/2015-03-31/functions/
              - Fn::GetAtt:
                  - ClientsHandler81BF6285
                  - Arn
              - /invocations
      ResourceId:
        Ref: SharedApiclients597C8EB0
      RestApiId:
        Ref: SharedApi9DD7A97D
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/clients/GET/Resource
  SharedApiclientsPATCHApiPermissionOdAppCdkStackSharedApi3F29C5BEPATCHclients6946BDFB:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - ClientsHandler81BF6285
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:"
            - Ref: AWS::Partition
            - ":execute-api:"
            - Ref: AWS::Region
            - ":"
            - Ref: AWS::AccountId
            - ":"
            - Ref: SharedApi9DD7A97D
            - /
            - Ref: SharedApiDeploymentStageprod267E5D0B
            - /PATCH/clients
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/clients/PATCH/ApiPermission.OdAppCdkStackSharedApi3F29C5BE.PATCH..clients
  SharedApiclientsPATCHApiPermissionTestOdAppCdkStackSharedApi3F29C5BEPATCHclientsCCC5B359:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - ClientsHandler81BF6285
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:"
            - Ref: AWS::Partition
            - ":execute-api:"
            - Ref: AWS::Region
            - ":"
            - Ref: AWS::AccountId
            - ":"
            - Ref: SharedApi9DD7A97D
            - /test-invoke-stage/PATCH/clients
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/clients/PATCH/ApiPermission.Test.OdAppCdkStackSharedApi3F29C5BE.PATCH..clients
  SharedApiclientsPATCHBC73BC3C:
    Type: AWS::ApiGateway::Method
    Properties:
      AuthorizationType: NONE
      HttpMethod: PATCH
      Integration:
        IntegrationHttpMethod: POST
        Type: AWS_PROXY
        Uri:
          Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - ":apigateway:"
              - Ref: AWS::Region
              - :lambda:path/2015-03-31/functions/
              - Fn::GetAtt:
                  - ClientsHandler81BF6285
                  - Arn
              - /invocations
      ResourceId:
        Ref: SharedApiclients597C8EB0
      RestApiId:
        Ref: SharedApi9DD7A97D
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/clients/PATCH/Resource
  SharedApisendemailsF3943E7B:
    Type: AWS::ApiGateway::Resource
    Properties:
      ParentId:
        Fn::GetAtt:
          - SharedApi9DD7A97D
          - RootResourceId
      PathPart: send-emails
      RestApiId:
        Ref: SharedApi9DD7A97D
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/send-emails/Resource
  SharedApisendemailsOPTIONSF824E32D:
    Type: AWS::ApiGateway::Method
    Properties:
      ApiKeyRequired: false
      AuthorizationType: NONE
      HttpMethod: OPTIONS
      Integration:
        IntegrationResponses:
          - ResponseParameters:
              method.response.header.Access-Control-Allow-Headers: "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'"
              method.response.header.Access-Control-Allow-Origin: "'*'"
              method.response.header.Access-Control-Allow-Methods: "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
            StatusCode: "200"
        RequestTemplates:
          application/json: "{ statusCode: 200 }"
        Type: MOCK
      MethodResponses:
        - ResponseParameters:
            method.response.header.Access-Control-Allow-Headers: true
            method.response.header.Access-Control-Allow-Origin: true
            method.response.header.Access-Control-Allow-Methods: true
          StatusCode: "200"
      ResourceId:
        Ref: SharedApisendemailsF3943E7B
      RestApiId:
        Ref: SharedApi9DD7A97D
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/send-emails/OPTIONS/Resource
  SharedApisendemailsPOSTApiPermissionOdAppCdkStackSharedApi3F29C5BEPOSTsendemailsD6A3D42C:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - SendEmailLambdaA364B1D1
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:"
            - Ref: AWS::Partition
            - ":execute-api:"
            - Ref: AWS::Region
            - ":"
            - Ref: AWS::AccountId
            - ":"
            - Ref: SharedApi9DD7A97D
            - /
            - Ref: SharedApiDeploymentStageprod267E5D0B
            - /POST/send-emails
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/send-emails/POST/ApiPermission.OdAppCdkStackSharedApi3F29C5BE.POST..send-emails
  SharedApisendemailsPOSTApiPermissionTestOdAppCdkStackSharedApi3F29C5BEPOSTsendemailsD35201DD:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - SendEmailLambdaA364B1D1
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:"
            - Ref: AWS::Partition
            - ":execute-api:"
            - Ref: AWS::Region
            - ":"
            - Ref: AWS::AccountId
            - ":"
            - Ref: SharedApi9DD7A97D
            - /test-invoke-stage/POST/send-emails
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/send-emails/POST/ApiPermission.Test.OdAppCdkStackSharedApi3F29C5BE.POST..send-emails
  SharedApisendemailsPOSTE7AD7B48:
    Type: AWS::ApiGateway::Method
    Properties:
      AuthorizationType: NONE
      HttpMethod: POST
      Integration:
        IntegrationHttpMethod: POST
        Type: AWS_PROXY
        Uri:
          Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - ":apigateway:"
              - Ref: AWS::Region
              - :lambda:path/2015-03-31/functions/
              - Fn::GetAtt:
                  - SendEmailLambdaA364B1D1
                  - Arn
              - /invocations
      ResourceId:
        Ref: SharedApisendemailsF3943E7B
      RestApiId:
        Ref: SharedApi9DD7A97D
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/send-emails/POST/Resource
  SharedApipublicsurveys5170B2E7:
    Type: AWS::ApiGateway::Resource
    Properties:
      ParentId:
        Fn::GetAtt:
          - SharedApi9DD7A97D
          - RootResourceId
      PathPart: public-surveys
      RestApiId:
        Ref: SharedApi9DD7A97D
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/public-surveys/Resource
  SharedApipublicsurveysOPTIONS757181BE:
    Type: AWS::ApiGateway::Method
    Properties:
      ApiKeyRequired: false
      AuthorizationType: NONE
      HttpMethod: OPTIONS
      Integration:
        IntegrationResponses:
          - ResponseParameters:
              method.response.header.Access-Control-Allow-Headers: "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'"
              method.response.header.Access-Control-Allow-Origin: "'*'"
              method.response.header.Access-Control-Allow-Methods: "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
            StatusCode: "200"
        RequestTemplates:
          application/json: "{ statusCode: 200 }"
        Type: MOCK
      MethodResponses:
        - ResponseParameters:
            method.response.header.Access-Control-Allow-Headers: true
            method.response.header.Access-Control-Allow-Origin: true
            method.response.header.Access-Control-Allow-Methods: true
          StatusCode: "200"
      ResourceId:
        Ref: SharedApipublicsurveys5170B2E7
      RestApiId:
        Ref: SharedApi9DD7A97D
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/public-surveys/OPTIONS/Resource
  SharedApipublicsurveysidE01155BC:
    Type: AWS::ApiGateway::Resource
    Properties:
      ParentId:
        Ref: SharedApipublicsurveys5170B2E7
      PathPart: "{id}"
      RestApiId:
        Ref: SharedApi9DD7A97D
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/public-surveys/{id}/Resource
  SharedApipublicsurveysidOPTIONS96319AFA:
    Type: AWS::ApiGateway::Method
    Properties:
      ApiKeyRequired: false
      AuthorizationType: NONE
      HttpMethod: OPTIONS
      Integration:
        IntegrationResponses:
          - ResponseParameters:
              method.response.header.Access-Control-Allow-Headers: "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'"
              method.response.header.Access-Control-Allow-Origin: "'*'"
              method.response.header.Access-Control-Allow-Methods: "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
            StatusCode: "200"
        RequestTemplates:
          application/json: "{ statusCode: 200 }"
        Type: MOCK
      MethodResponses:
        - ResponseParameters:
            method.response.header.Access-Control-Allow-Headers: true
            method.response.header.Access-Control-Allow-Origin: true
            method.response.header.Access-Control-Allow-Methods: true
          StatusCode: "200"
      ResourceId:
        Ref: SharedApipublicsurveysidE01155BC
      RestApiId:
        Ref: SharedApi9DD7A97D
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/public-surveys/{id}/OPTIONS/Resource
  SharedApipublicsurveysidGETApiPermissionOdAppCdkStackSharedApi3F29C5BEGETpublicsurveysid24FABEA7:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - PublicResponseSetsHandler73999312
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:"
            - Ref: AWS::Partition
            - ":execute-api:"
            - Ref: AWS::Region
            - ":"
            - Ref: AWS::AccountId
            - ":"
            - Ref: SharedApi9DD7A97D
            - /
            - Ref: SharedApiDeploymentStageprod267E5D0B
            - /GET/public-surveys/*
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/public-surveys/{id}/GET/ApiPermission.OdAppCdkStackSharedApi3F29C5BE.GET..public-surveys.{id}
  SharedApipublicsurveysidGETApiPermissionTestOdAppCdkStackSharedApi3F29C5BEGETpublicsurveysidBEC48810:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - PublicResponseSetsHandler73999312
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:"
            - Ref: AWS::Partition
            - ":execute-api:"
            - Ref: AWS::Region
            - ":"
            - Ref: AWS::AccountId
            - ":"
            - Ref: SharedApi9DD7A97D
            - /test-invoke-stage/GET/public-surveys/*
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/public-surveys/{id}/GET/ApiPermission.Test.OdAppCdkStackSharedApi3F29C5BE.GET..public-surveys.{id}
  SharedApipublicsurveysidGET251A92CF:
    Type: AWS::ApiGateway::Method
    Properties:
      AuthorizationType: NONE
      HttpMethod: GET
      Integration:
        IntegrationHttpMethod: POST
        Type: AWS_PROXY
        Uri:
          Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - ":apigateway:"
              - Ref: AWS::Region
              - :lambda:path/2015-03-31/functions/
              - Fn::GetAtt:
                  - PublicResponseSetsHandler73999312
                  - Arn
              - /invocations
      ResourceId:
        Ref: SharedApipublicsurveysidE01155BC
      RestApiId:
        Ref: SharedApi9DD7A97D
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/public-surveys/{id}/GET/Resource
  SharedApisurveyresponses18A445C8:
    Type: AWS::ApiGateway::Resource
    Properties:
      ParentId:
        Fn::GetAtt:
          - SharedApi9DD7A97D
          - RootResourceId
      PathPart: survey-responses
      RestApiId:
        Ref: SharedApi9DD7A97D
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/survey-responses/Resource
  SharedApisurveyresponsesOPTIONS392186C7:
    Type: AWS::ApiGateway::Method
    Properties:
      ApiKeyRequired: false
      AuthorizationType: NONE
      HttpMethod: OPTIONS
      Integration:
        IntegrationResponses:
          - ResponseParameters:
              method.response.header.Access-Control-Allow-Headers: "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'"
              method.response.header.Access-Control-Allow-Origin: "'*'"
              method.response.header.Access-Control-Allow-Methods: "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
            StatusCode: "200"
        RequestTemplates:
          application/json: "{ statusCode: 200 }"
        Type: MOCK
      MethodResponses:
        - ResponseParameters:
            method.response.header.Access-Control-Allow-Headers: true
            method.response.header.Access-Control-Allow-Origin: true
            method.response.header.Access-Control-Allow-Methods: true
          StatusCode: "200"
      ResourceId:
        Ref: SharedApisurveyresponses18A445C8
      RestApiId:
        Ref: SharedApi9DD7A97D
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/survey-responses/OPTIONS/Resource
  SharedApisurveyresponsesPOSTApiPermissionOdAppCdkStackSharedApi3F29C5BEPOSTsurveyresponses0DC36C23:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - ResponsesHandler81FBDAA4
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:"
            - Ref: AWS::Partition
            - ":execute-api:"
            - Ref: AWS::Region
            - ":"
            - Ref: AWS::AccountId
            - ":"
            - Ref: SharedApi9DD7A97D
            - /
            - Ref: SharedApiDeploymentStageprod267E5D0B
            - /POST/survey-responses
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/survey-responses/POST/ApiPermission.OdAppCdkStackSharedApi3F29C5BE.POST..survey-responses
  SharedApisurveyresponsesPOSTApiPermissionTestOdAppCdkStackSharedApi3F29C5BEPOSTsurveyresponses4C1A869A:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - ResponsesHandler81FBDAA4
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:"
            - Ref: AWS::Partition
            - ":execute-api:"
            - Ref: AWS::Region
            - ":"
            - Ref: AWS::AccountId
            - ":"
            - Ref: SharedApi9DD7A97D
            - /test-invoke-stage/POST/survey-responses
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/survey-responses/POST/ApiPermission.Test.OdAppCdkStackSharedApi3F29C5BE.POST..survey-responses
  SharedApisurveyresponsesPOSTEA02D618:
    Type: AWS::ApiGateway::Method
    Properties:
      AuthorizationType: NONE
      HttpMethod: POST
      Integration:
        IntegrationHttpMethod: POST
        Type: AWS_PROXY
        Uri:
          Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - ":apigateway:"
              - Ref: AWS::Region
              - :lambda:path/2015-03-31/functions/
              - Fn::GetAtt:
                  - ResponsesHandler81FBDAA4
                  - Arn
              - /invocations
      ResourceId:
        Ref: SharedApisurveyresponses18A445C8
      RestApiId:
        Ref: SharedApi9DD7A97D
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/survey-responses/POST/Resource
  SharedApirds10B97390:
    Type: AWS::ApiGateway::Resource
    Properties:
      ParentId:
        Fn::GetAtt:
          - SharedApi9DD7A97D
          - RootResourceId
      PathPart: rds
      RestApiId:
        Ref: SharedApi9DD7A97D
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/rds/Resource
  SharedApirdsOPTIONS17EB2073:
    Type: AWS::ApiGateway::Method
    Properties:
      ApiKeyRequired: false
      AuthorizationType: NONE
      HttpMethod: OPTIONS
      Integration:
        IntegrationResponses:
          - ResponseParameters:
              method.response.header.Access-Control-Allow-Headers: "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'"
              method.response.header.Access-Control-Allow-Origin: "'*'"
              method.response.header.Access-Control-Allow-Methods: "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
            StatusCode: "200"
        RequestTemplates:
          application/json: "{ statusCode: 200 }"
        Type: MOCK
      MethodResponses:
        - ResponseParameters:
            method.response.header.Access-Control-Allow-Headers: true
            method.response.header.Access-Control-Allow-Origin: true
            method.response.header.Access-Control-Allow-Methods: true
          StatusCode: "200"
      ResourceId:
        Ref: SharedApirds10B97390
      RestApiId:
        Ref: SharedApi9DD7A97D
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/rds/OPTIONS/Resource
  SharedApirdsresponses7058E588:
    Type: AWS::ApiGateway::Resource
    Properties:
      ParentId:
        Ref: SharedApirds10B97390
      PathPart: responses
      RestApiId:
        Ref: SharedApi9DD7A97D
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/rds/responses/Resource
  SharedApirdsresponsesOPTIONS9D21EBF3:
    Type: AWS::ApiGateway::Method
    Properties:
      ApiKeyRequired: false
      AuthorizationType: NONE
      HttpMethod: OPTIONS
      Integration:
        IntegrationResponses:
          - ResponseParameters:
              method.response.header.Access-Control-Allow-Headers: "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'"
              method.response.header.Access-Control-Allow-Origin: "'*'"
              method.response.header.Access-Control-Allow-Methods: "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
            StatusCode: "200"
        RequestTemplates:
          application/json: "{ statusCode: 200 }"
        Type: MOCK
      MethodResponses:
        - ResponseParameters:
            method.response.header.Access-Control-Allow-Headers: true
            method.response.header.Access-Control-Allow-Origin: true
            method.response.header.Access-Control-Allow-Methods: true
          StatusCode: "200"
      ResourceId:
        Ref: SharedApirdsresponses7058E588
      RestApiId:
        Ref: SharedApi9DD7A97D
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/rds/responses/OPTIONS/Resource
  SharedApirdsresponsesGETApiPermissionOdAppCdkStackSharedApi3F29C5BEGETrdsresponses493D05E2:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - RDSResponseHandlerC35B91EA
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:"
            - Ref: AWS::Partition
            - ":execute-api:"
            - Ref: AWS::Region
            - ":"
            - Ref: AWS::AccountId
            - ":"
            - Ref: SharedApi9DD7A97D
            - /
            - Ref: SharedApiDeploymentStageprod267E5D0B
            - /GET/rds/responses
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/rds/responses/GET/ApiPermission.OdAppCdkStackSharedApi3F29C5BE.GET..rds.responses
  SharedApirdsresponsesGETApiPermissionTestOdAppCdkStackSharedApi3F29C5BEGETrdsresponses6E65607B:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - RDSResponseHandlerC35B91EA
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:"
            - Ref: AWS::Partition
            - ":execute-api:"
            - Ref: AWS::Region
            - ":"
            - Ref: AWS::AccountId
            - ":"
            - Ref: SharedApi9DD7A97D
            - /test-invoke-stage/GET/rds/responses
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/rds/responses/GET/ApiPermission.Test.OdAppCdkStackSharedApi3F29C5BE.GET..rds.responses
  SharedApirdsresponsesGET6C71BA48:
    Type: AWS::ApiGateway::Method
    Properties:
      AuthorizationType: NONE
      HttpMethod: GET
      Integration:
        IntegrationHttpMethod: POST
        Type: AWS_PROXY
        Uri:
          Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - ":apigateway:"
              - Ref: AWS::Region
              - :lambda:path/2015-03-31/functions/
              - Fn::GetAtt:
                  - RDSResponseHandlerC35B91EA
                  - Arn
              - /invocations
      ResourceId:
        Ref: SharedApirdsresponses7058E588
      RestApiId:
        Ref: SharedApi9DD7A97D
    Metadata:
      aws:cdk:path: OdAppCdkStack/SharedApi/Default/rds/responses/GET/Resource
  TestHandlerServiceRole954A02F5:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: "2012-10-17"
      ManagedPolicyArns:
        - Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - :iam::aws:policy/service-role/AWSLambdaBasicExecutionRole
    Metadata:
      aws:cdk:path: OdAppCdkStack/TestHandler/ServiceRole/Resource
  TestHandlerServiceRoleDefaultPolicy3DEAA57E:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - cognito-idp:AdminCreateUser
              - cognito-idp:AdminDeleteUser
              - cognito-idp:AdminUpdateUserAttributes
            Effect: Allow
            Resource: arn:aws:cognito-idp:eu-west-2:851725330080:userpool/eu-west-2_wGXJfJzuL
          - Action: dynamodb:*
            Effect: Allow
            Resource:
              - Fn::GetAtt:
                  - clientTable0633AF8C
                  - Arn
              - Fn::GetAtt:
                  - respondentSurveyTable4D3A03D0
                  - Arn
              - Fn::GetAtt:
                  - respondentTable265E52D3
                  - Arn
              - Fn::GetAtt:
                  - responseSetTableE1D8A92E
                  - Arn
              - Fn::GetAtt:
                  - responseTableBBB69578
                  - Arn
              - Fn::GetAtt:
                  - surveyTypeTable194BDCE8
                  - Arn
              - Fn::GetAtt:
                  - userTableA39440AD
                  - Arn
              - Fn::Join:
                  - ""
                  - - Fn::GetAtt:
                        - clientTable0633AF8C
                        - Arn
                    - /index/*
              - Fn::Join:
                  - ""
                  - - Fn::GetAtt:
                        - respondentSurveyTable4D3A03D0
                        - Arn
                    - /index/*
              - Fn::Join:
                  - ""
                  - - Fn::GetAtt:
                        - surveyTypeTable194BDCE8
                        - Arn
                    - /index/*
              - Fn::Join:
                  - ""
                  - - Fn::GetAtt:
                        - userTableA39440AD
                        - Arn
                    - /index/*
        Version: "2012-10-17"
      PolicyName: TestHandlerServiceRoleDefaultPolicy3DEAA57E
      Roles:
        - Ref: TestHandlerServiceRole954A02F5
    Metadata:
      aws:cdk:path: OdAppCdkStack/TestHandler/ServiceRole/DefaultPolicy/Resource
  TestHandler3EEC6392:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket:
          Fn::Sub: cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}
        S3Key: cc5884a1a4bab57740935140b608f65eecae069895b0244320605a0977bc4a3d.zip
      Environment:
        Variables:
          CLIENTS_TABLE:
            Ref: clientTable0633AF8C
          RESPONSES_TABLE:
            Ref: responseTableBBB69578
          RESPONSE_SETS_TABLE:
            Ref: responseSetTableE1D8A92E
          SURVEY_TYPES_TABLE:
            Ref: surveyTypeTable194BDCE8
          RESPONDENTS_TABLE:
            Ref: respondentTable265E52D3
          USERS_TABLE:
            Ref: userTableA39440AD
          RESPONDENT_SURVEY_TABLE:
            Ref: respondentSurveyTable4D3A03D0
      Handler: tests.handler
      MemorySize: 328
      Role:
        Fn::GetAtt:
          - TestHandlerServiceRole954A02F5
          - Arn
      Runtime: nodejs18.x
      Timeout: 90
    DependsOn:
      - TestHandlerServiceRoleDefaultPolicy3DEAA57E
      - TestHandlerServiceRole954A02F5
    Metadata:
      aws:cdk:path: OdAppCdkStack/TestHandler/Resource
      aws:asset:path: asset.cc5884a1a4bab57740935140b608f65eecae069895b0244320605a0977bc4a3d
      aws:asset:is-bundled: false
      aws:asset:property: Code
  AuthHandlerServiceRoleD970A3A9:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: "2012-10-17"
      ManagedPolicyArns:
        - Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - :iam::aws:policy/service-role/AWSLambdaBasicExecutionRole
    Metadata:
      aws:cdk:path: OdAppCdkStack/AuthHandler/ServiceRole/Resource
  AuthHandlerServiceRoleDefaultPolicy77B239DC:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action: dynamodb:*
            Effect: Allow
            Resource:
              - Fn::GetAtt:
                  - clientTable0633AF8C
                  - Arn
              - Fn::GetAtt:
                  - respondentTable265E52D3
                  - Arn
              - Fn::GetAtt:
                  - responseSetTableE1D8A92E
                  - Arn
              - Fn::GetAtt:
                  - responseTableBBB69578
                  - Arn
              - Fn::GetAtt:
                  - surveyTypeTable194BDCE8
                  - Arn
              - Fn::GetAtt:
                  - userTableA39440AD
                  - Arn
              - Fn::Join:
                  - ""
                  - - Fn::GetAtt:
                        - clientTable0633AF8C
                        - Arn
                    - /index/*
              - Fn::Join:
                  - ""
                  - - Fn::GetAtt:
                        - surveyTypeTable194BDCE8
                        - Arn
                    - /index/*
              - Fn::Join:
                  - ""
                  - - Fn::GetAtt:
                        - userTableA39440AD
                        - Arn
                    - /index/*
        Version: "2012-10-17"
      PolicyName: AuthHandlerServiceRoleDefaultPolicy77B239DC
      Roles:
        - Ref: AuthHandlerServiceRoleD970A3A9
    Metadata:
      aws:cdk:path: OdAppCdkStack/AuthHandler/ServiceRole/DefaultPolicy/Resource
  AuthHandler9DC767B7:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket:
          Fn::Sub: cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}
        S3Key: cc5884a1a4bab57740935140b608f65eecae069895b0244320605a0977bc4a3d.zip
      Environment:
        Variables:
          CLIENTS_TABLE:
            Ref: clientTable0633AF8C
          RESPONSES_TABLE:
            Ref: responseTableBBB69578
          RESPONSE_SETS_TABLE:
            Ref: responseSetTableE1D8A92E
          SURVEY_TYPES_TABLE:
            Ref: surveyTypeTable194BDCE8
          RESPONDENTS_TABLE:
            Ref: respondentTable265E52D3
          USERS_TABLE:
            Ref: userTableA39440AD
          RESPONDENT_SURVEY_TABLE:
            Ref: respondentSurveyTable4D3A03D0
      Handler: dist/auth.handler
      MemorySize: 328
      Role:
        Fn::GetAtt:
          - AuthHandlerServiceRoleD970A3A9
          - Arn
      Runtime: nodejs18.x
      Timeout: 30
    DependsOn:
      - AuthHandlerServiceRoleDefaultPolicy77B239DC
      - AuthHandlerServiceRoleD970A3A9
    Metadata:
      aws:cdk:path: OdAppCdkStack/AuthHandler/Resource
      aws:asset:path: asset.cc5884a1a4bab57740935140b608f65eecae069895b0244320605a0977bc4a3d
      aws:asset:is-bundled: false
      aws:asset:property: Code
  ResponseSetsHandlerServiceRole635810A4:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: "2012-10-17"
      ManagedPolicyArns:
        - Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - :iam::aws:policy/service-role/AWSLambdaBasicExecutionRole
    Metadata:
      aws:cdk:path: OdAppCdkStack/ResponseSetsHandler/ServiceRole/Resource
  ResponseSetsHandlerServiceRoleDefaultPolicy6D1DC45D:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action: dynamodb:*
            Effect: Allow
            Resource:
              - Fn::GetAtt:
                  - clientTable0633AF8C
                  - Arn
              - Fn::GetAtt:
                  - respondentTable265E52D3
                  - Arn
              - Fn::GetAtt:
                  - responseSetTableE1D8A92E
                  - Arn
              - Fn::GetAtt:
                  - responseTableBBB69578
                  - Arn
              - Fn::GetAtt:
                  - surveyTypeTable194BDCE8
                  - Arn
              - Fn::GetAtt:
                  - userTableA39440AD
                  - Arn
              - Fn::Join:
                  - ""
                  - - Fn::GetAtt:
                        - clientTable0633AF8C
                        - Arn
                    - /index/*
              - Fn::Join:
                  - ""
                  - - Fn::GetAtt:
                        - surveyTypeTable194BDCE8
                        - Arn
                    - /index/*
              - Fn::Join:
                  - ""
                  - - Fn::GetAtt:
                        - userTableA39440AD
                        - Arn
                    - /index/*
          - Action: dynamodb:PartiQLSelect
            Effect: Allow
            Resource:
              Fn::GetAtt:
                - responseSetTableE1D8A92E
                - Arn
        Version: "2012-10-17"
      PolicyName: ResponseSetsHandlerServiceRoleDefaultPolicy6D1DC45D
      Roles:
        - Ref: ResponseSetsHandlerServiceRole635810A4
    Metadata:
      aws:cdk:path: OdAppCdkStack/ResponseSetsHandler/ServiceRole/DefaultPolicy/Resource
  ResponseSetsHandlerE53CA90B:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket:
          Fn::Sub: cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}
        S3Key: cc5884a1a4bab57740935140b608f65eecae069895b0244320605a0977bc4a3d.zip
      Environment:
        Variables:
          CLIENTS_TABLE:
            Ref: clientTable0633AF8C
          RESPONSES_TABLE:
            Ref: responseTableBBB69578
          RESPONSE_SETS_TABLE:
            Ref: responseSetTableE1D8A92E
          SURVEY_TYPES_TABLE:
            Ref: surveyTypeTable194BDCE8
          RESPONDENTS_TABLE:
            Ref: respondentTable265E52D3
          USERS_TABLE:
            Ref: userTableA39440AD
          RESPONDENT_SURVEY_TABLE:
            Ref: respondentSurveyTable4D3A03D0
      Handler: dist/response-sets.handler
      Role:
        Fn::GetAtt:
          - ResponseSetsHandlerServiceRole635810A4
          - Arn
      Runtime: nodejs18.x
      Timeout: 30
    DependsOn:
      - ResponseSetsHandlerServiceRoleDefaultPolicy6D1DC45D
      - ResponseSetsHandlerServiceRole635810A4
    Metadata:
      aws:cdk:path: OdAppCdkStack/ResponseSetsHandler/Resource
      aws:asset:path: asset.cc5884a1a4bab57740935140b608f65eecae069895b0244320605a0977bc4a3d
      aws:asset:is-bundled: false
      aws:asset:property: Code
  SurveyTypesHandlerServiceRoleFD243480:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: "2012-10-17"
      ManagedPolicyArns:
        - Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - :iam::aws:policy/service-role/AWSLambdaBasicExecutionRole
    Metadata:
      aws:cdk:path: OdAppCdkStack/SurveyTypesHandler/ServiceRole/Resource
  SurveyTypesHandlerServiceRoleDefaultPolicyEED3107E:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - dynamodb:BatchGetItem
              - dynamodb:BatchWriteItem
              - dynamodb:ConditionCheckItem
              - dynamodb:DeleteItem
              - dynamodb:DescribeTable
              - dynamodb:GetItem
              - dynamodb:GetRecords
              - dynamodb:GetShardIterator
              - dynamodb:PutItem
              - dynamodb:Query
              - dynamodb:Scan
              - dynamodb:UpdateItem
            Effect: Allow
            Resource:
              - Fn::GetAtt:
                  - surveyTypeTable194BDCE8
                  - Arn
              - Fn::Join:
                  - ""
                  - - Fn::GetAtt:
                        - surveyTypeTable194BDCE8
                        - Arn
                    - /index/*
        Version: "2012-10-17"
      PolicyName: SurveyTypesHandlerServiceRoleDefaultPolicyEED3107E
      Roles:
        - Ref: SurveyTypesHandlerServiceRoleFD243480
    Metadata:
      aws:cdk:path: OdAppCdkStack/SurveyTypesHandler/ServiceRole/DefaultPolicy/Resource
  SurveyTypesHandlerD3E0EB76:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket:
          Fn::Sub: cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}
        S3Key: cc5884a1a4bab57740935140b608f65eecae069895b0244320605a0977bc4a3d.zip
      Environment:
        Variables:
          CLIENTS_TABLE:
            Ref: clientTable0633AF8C
          RESPONSES_TABLE:
            Ref: responseTableBBB69578
          RESPONSE_SETS_TABLE:
            Ref: responseSetTableE1D8A92E
          SURVEY_TYPES_TABLE:
            Ref: surveyTypeTable194BDCE8
          RESPONDENTS_TABLE:
            Ref: respondentTable265E52D3
          USERS_TABLE:
            Ref: userTableA39440AD
          RESPONDENT_SURVEY_TABLE:
            Ref: respondentSurveyTable4D3A03D0
      Handler: dist/survey-types.handler
      Role:
        Fn::GetAtt:
          - SurveyTypesHandlerServiceRoleFD243480
          - Arn
      Runtime: nodejs18.x
      Timeout: 30
    DependsOn:
      - SurveyTypesHandlerServiceRoleDefaultPolicyEED3107E
      - SurveyTypesHandlerServiceRoleFD243480
    Metadata:
      aws:cdk:path: OdAppCdkStack/SurveyTypesHandler/Resource
      aws:asset:path: asset.cc5884a1a4bab57740935140b608f65eecae069895b0244320605a0977bc4a3d
      aws:asset:is-bundled: false
      aws:asset:property: Code
  UsersHandlerServiceRole85D5F4D9:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: "2012-10-17"
      ManagedPolicyArns:
        - Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - :iam::aws:policy/service-role/AWSLambdaBasicExecutionRole
    Metadata:
      aws:cdk:path: OdAppCdkStack/UsersHandler/ServiceRole/Resource
  UsersHandlerServiceRoleDefaultPolicy45A005B2:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - cognito-idp:AdminCreateUser
              - cognito-idp:AdminDeleteUser
              - cognito-idp:AdminUpdateUserAttributes
            Effect: Allow
            Resource: arn:aws:cognito-idp:eu-west-2:851725330080:userpool/eu-west-2_wGXJfJzuL
          - Action: dynamodb:*
            Effect: Allow
            Resource:
              - Fn::GetAtt:
                  - clientTable0633AF8C
                  - Arn
              - Fn::GetAtt:
                  - respondentSurveyTable4D3A03D0
                  - Arn
              - Fn::GetAtt:
                  - respondentTable265E52D3
                  - Arn
              - Fn::GetAtt:
                  - responseSetTableE1D8A92E
                  - Arn
              - Fn::GetAtt:
                  - responseTableBBB69578
                  - Arn
              - Fn::GetAtt:
                  - surveyTypeTable194BDCE8
                  - Arn
              - Fn::GetAtt:
                  - userTableA39440AD
                  - Arn
              - Fn::Join:
                  - ""
                  - - Fn::GetAtt:
                        - clientTable0633AF8C
                        - Arn
                    - /index/*
              - Fn::Join:
                  - ""
                  - - Fn::GetAtt:
                        - respondentSurveyTable4D3A03D0
                        - Arn
                    - /index/*
              - Fn::Join:
                  - ""
                  - - Fn::GetAtt:
                        - surveyTypeTable194BDCE8
                        - Arn
                    - /index/*
              - Fn::Join:
                  - ""
                  - - Fn::GetAtt:
                        - userTableA39440AD
                        - Arn
                    - /index/*
        Version: "2012-10-17"
      PolicyName: UsersHandlerServiceRoleDefaultPolicy45A005B2
      Roles:
        - Ref: UsersHandlerServiceRole85D5F4D9
    Metadata:
      aws:cdk:path: OdAppCdkStack/UsersHandler/ServiceRole/DefaultPolicy/Resource
  UsersHandler8E03FD62:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket:
          Fn::Sub: cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}
        S3Key: cc5884a1a4bab57740935140b608f65eecae069895b0244320605a0977bc4a3d.zip
      Environment:
        Variables:
          USERS_TABLE:
            Ref: userTableA39440AD
      Handler: dist/users.handler
      Role:
        Fn::GetAtt:
          - UsersHandlerServiceRole85D5F4D9
          - Arn
      Runtime: nodejs18.x
      Timeout: 30
    DependsOn:
      - UsersHandlerServiceRoleDefaultPolicy45A005B2
      - UsersHandlerServiceRole85D5F4D9
    Metadata:
      aws:cdk:path: OdAppCdkStack/UsersHandler/Resource
      aws:asset:path: asset.cc5884a1a4bab57740935140b608f65eecae069895b0244320605a0977bc4a3d
      aws:asset:is-bundled: false
      aws:asset:property: Code
  RespondentsHandlerServiceRole132DDCA9:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: "2012-10-17"
      ManagedPolicyArns:
        - Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - :iam::aws:policy/service-role/AWSLambdaBasicExecutionRole
    Metadata:
      aws:cdk:path: OdAppCdkStack/RespondentsHandler/ServiceRole/Resource
  RespondentsHandlerServiceRoleDefaultPolicyC73A497A:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action: dynamodb:*
            Effect: Allow
            Resource:
              - Fn::GetAtt:
                  - clientTable0633AF8C
                  - Arn
              - Fn::GetAtt:
                  - respondentTable265E52D3
                  - Arn
              - Fn::GetAtt:
                  - responseSetTableE1D8A92E
                  - Arn
              - Fn::GetAtt:
                  - responseTableBBB69578
                  - Arn
              - Fn::GetAtt:
                  - surveyTypeTable194BDCE8
                  - Arn
              - Fn::GetAtt:
                  - userTableA39440AD
                  - Arn
              - Fn::Join:
                  - ""
                  - - Fn::GetAtt:
                        - clientTable0633AF8C
                        - Arn
                    - /index/*
              - Fn::Join:
                  - ""
                  - - Fn::GetAtt:
                        - surveyTypeTable194BDCE8
                        - Arn
                    - /index/*
              - Fn::Join:
                  - ""
                  - - Fn::GetAtt:
                        - userTableA39440AD
                        - Arn
                    - /index/*
        Version: "2012-10-17"
      PolicyName: RespondentsHandlerServiceRoleDefaultPolicyC73A497A
      Roles:
        - Ref: RespondentsHandlerServiceRole132DDCA9
    Metadata:
      aws:cdk:path: OdAppCdkStack/RespondentsHandler/ServiceRole/DefaultPolicy/Resource
  RespondentsHandler852521B0:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket:
          Fn::Sub: cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}
        S3Key: cc5884a1a4bab57740935140b608f65eecae069895b0244320605a0977bc4a3d.zip
      Environment:
        Variables:
          CLIENTS_TABLE:
            Ref: clientTable0633AF8C
          RESPONSES_TABLE:
            Ref: responseTableBBB69578
          RESPONSE_SETS_TABLE:
            Ref: responseSetTableE1D8A92E
          SURVEY_TYPES_TABLE:
            Ref: surveyTypeTable194BDCE8
          RESPONDENTS_TABLE:
            Ref: respondentTable265E52D3
          USERS_TABLE:
            Ref: userTableA39440AD
          RESPONDENT_SURVEY_TABLE:
            Ref: respondentSurveyTable4D3A03D0
      Handler: dist/respondents.handler
      Role:
        Fn::GetAtt:
          - RespondentsHandlerServiceRole132DDCA9
          - Arn
      Runtime: nodejs18.x
      Timeout: 30
    DependsOn:
      - RespondentsHandlerServiceRoleDefaultPolicyC73A497A
      - RespondentsHandlerServiceRole132DDCA9
    Metadata:
      aws:cdk:path: OdAppCdkStack/RespondentsHandler/Resource
      aws:asset:path: asset.cc5884a1a4bab57740935140b608f65eecae069895b0244320605a0977bc4a3d
      aws:asset:is-bundled: false
      aws:asset:property: Code
  ClientsHandlerServiceRoleE060EC79:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: "2012-10-17"
      ManagedPolicyArns:
        - Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - :iam::aws:policy/service-role/AWSLambdaBasicExecutionRole
    Metadata:
      aws:cdk:path: OdAppCdkStack/ClientsHandler/ServiceRole/Resource
  ClientsHandlerServiceRoleDefaultPolicy5ADA2FAC:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action: dynamodb:*
            Effect: Allow
            Resource:
              - Fn::GetAtt:
                  - clientTable0633AF8C
                  - Arn
              - Fn::GetAtt:
                  - respondentTable265E52D3
                  - Arn
              - Fn::GetAtt:
                  - responseSetTableE1D8A92E
                  - Arn
              - Fn::GetAtt:
                  - responseTableBBB69578
                  - Arn
              - Fn::GetAtt:
                  - surveyTypeTable194BDCE8
                  - Arn
              - Fn::GetAtt:
                  - userTableA39440AD
                  - Arn
              - Fn::Join:
                  - ""
                  - - Fn::GetAtt:
                        - clientTable0633AF8C
                        - Arn
                    - /index/*
              - Fn::Join:
                  - ""
                  - - Fn::GetAtt:
                        - surveyTypeTable194BDCE8
                        - Arn
                    - /index/*
              - Fn::Join:
                  - ""
                  - - Fn::GetAtt:
                        - userTableA39440AD
                        - Arn
                    - /index/*
        Version: "2012-10-17"
      PolicyName: ClientsHandlerServiceRoleDefaultPolicy5ADA2FAC
      Roles:
        - Ref: ClientsHandlerServiceRoleE060EC79
    Metadata:
      aws:cdk:path: OdAppCdkStack/ClientsHandler/ServiceRole/DefaultPolicy/Resource
  ClientsHandler81BF6285:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket:
          Fn::Sub: cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}
        S3Key: cc5884a1a4bab57740935140b608f65eecae069895b0244320605a0977bc4a3d.zip
      Environment:
        Variables:
          CLIENTS_TABLE:
            Ref: clientTable0633AF8C
          RESPONSES_TABLE:
            Ref: responseTableBBB69578
          RESPONSE_SETS_TABLE:
            Ref: responseSetTableE1D8A92E
          SURVEY_TYPES_TABLE:
            Ref: surveyTypeTable194BDCE8
          RESPONDENTS_TABLE:
            Ref: respondentTable265E52D3
          USERS_TABLE:
            Ref: userTableA39440AD
          RESPONDENT_SURVEY_TABLE:
            Ref: respondentSurveyTable4D3A03D0
      Handler: dist/clients.handler
      Role:
        Fn::GetAtt:
          - ClientsHandlerServiceRoleE060EC79
          - Arn
      Runtime: nodejs18.x
      Timeout: 30
    DependsOn:
      - ClientsHandlerServiceRoleDefaultPolicy5ADA2FAC
      - ClientsHandlerServiceRoleE060EC79
    Metadata:
      aws:cdk:path: OdAppCdkStack/ClientsHandler/Resource
      aws:asset:path: asset.cc5884a1a4bab57740935140b608f65eecae069895b0244320605a0977bc4a3d
      aws:asset:is-bundled: false
      aws:asset:property: Code
  HourlyLambdaServiceRole458C3E14:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: "2012-10-17"
      ManagedPolicyArns:
        - Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - :iam::aws:policy/service-role/AWSLambdaBasicExecutionRole
    Metadata:
      aws:cdk:path: OdAppCdkStack/HourlyLambda/ServiceRole/Resource
  HourlyLambdaServiceRoleDefaultPolicy668EFBD0:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - ses:SendEmail
              - ses:SendRawEmail
            Effect: Allow
            Resource: "*"
          - Action: dynamodb:*
            Effect: Allow
            Resource:
              - Fn::GetAtt:
                  - clientTable0633AF8C
                  - Arn
              - Fn::GetAtt:
                  - respondentTable265E52D3
                  - Arn
              - Fn::GetAtt:
                  - responseSetTableE1D8A92E
                  - Arn
              - Fn::GetAtt:
                  - responseTableBBB69578
                  - Arn
              - Fn::GetAtt:
                  - surveyTypeTable194BDCE8
                  - Arn
              - Fn::GetAtt:
                  - userTableA39440AD
                  - Arn
              - Fn::Join:
                  - ""
                  - - Fn::GetAtt:
                        - clientTable0633AF8C
                        - Arn
                    - /index/*
              - Fn::Join:
                  - ""
                  - - Fn::GetAtt:
                        - surveyTypeTable194BDCE8
                        - Arn
                    - /index/*
              - Fn::Join:
                  - ""
                  - - Fn::GetAtt:
                        - userTableA39440AD
                        - Arn
                    - /index/*
        Version: "2012-10-17"
      PolicyName: HourlyLambdaServiceRoleDefaultPolicy668EFBD0
      Roles:
        - Ref: HourlyLambdaServiceRole458C3E14
    Metadata:
      aws:cdk:path: OdAppCdkStack/HourlyLambda/ServiceRole/DefaultPolicy/Resource
  HourlyLambda3AB0BFC6:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket:
          Fn::Sub: cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}
        S3Key: cc5884a1a4bab57740935140b608f65eecae069895b0244320605a0977bc4a3d.zip
      Environment:
        Variables:
          CLIENTS_TABLE:
            Ref: clientTable0633AF8C
          RESPONSES_TABLE:
            Ref: responseTableBBB69578
          RESPONSE_SETS_TABLE:
            Ref: responseSetTableE1D8A92E
          SURVEY_TYPES_TABLE:
            Ref: surveyTypeTable194BDCE8
          RESPONDENTS_TABLE:
            Ref: respondentTable265E52D3
          USERS_TABLE:
            Ref: userTableA39440AD
          RESPONDENT_SURVEY_TABLE:
            Ref: respondentSurveyTable4D3A03D0
      Handler: dist/follow-up-trigger.handler
      MemorySize: 128
      Role:
        Fn::GetAtt:
          - HourlyLambdaServiceRole458C3E14
          - Arn
      Runtime: nodejs18.x
      Timeout: 30
    DependsOn:
      - HourlyLambdaServiceRoleDefaultPolicy668EFBD0
      - HourlyLambdaServiceRole458C3E14
    Metadata:
      aws:cdk:path: OdAppCdkStack/HourlyLambda/Resource
      aws:asset:path: asset.cc5884a1a4bab57740935140b608f65eecae069895b0244320605a0977bc4a3d
      aws:asset:is-bundled: false
      aws:asset:property: Code
  HourlyRule14B82990:
    Type: AWS::Events::Rule
    Properties:
      ScheduleExpression: rate(1 hour)
      State: ENABLED
      Targets:
        - Arn:
            Fn::GetAtt:
              - HourlyLambda3AB0BFC6
              - Arn
          Id: Target0
    Metadata:
      aws:cdk:path: OdAppCdkStack/HourlyRule/Resource
  HourlyRuleAllowEventRuleOdAppCdkStackHourlyLambda0EE3BD10C182E110:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - HourlyLambda3AB0BFC6
          - Arn
      Principal: events.amazonaws.com
      SourceArn:
        Fn::GetAtt:
          - HourlyRule14B82990
          - Arn
    Metadata:
      aws:cdk:path: OdAppCdkStack/HourlyRule/AllowEventRuleOdAppCdkStackHourlyLambda0EE3BD10
  SendEmailLambdaServiceRole2E973985:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: "2012-10-17"
      ManagedPolicyArns:
        - Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - :iam::aws:policy/service-role/AWSLambdaBasicExecutionRole
    Metadata:
      aws:cdk:path: OdAppCdkStack/SendEmailLambda/ServiceRole/Resource
  SendEmailLambdaServiceRoleDefaultPolicy9958C1A3:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - ses:SendEmail
              - ses:SendRawEmail
            Effect: Allow
            Resource: "*"
          - Action: dynamodb:*
            Effect: Allow
            Resource:
              - Fn::GetAtt:
                  - clientTable0633AF8C
                  - Arn
              - Fn::GetAtt:
                  - respondentSurveyTable4D3A03D0
                  - Arn
              - Fn::GetAtt:
                  - respondentTable265E52D3
                  - Arn
              - Fn::GetAtt:
                  - responseSetTableE1D8A92E
                  - Arn
              - Fn::GetAtt:
                  - responseTableBBB69578
                  - Arn
              - Fn::GetAtt:
                  - surveyTypeTable194BDCE8
                  - Arn
              - Fn::GetAtt:
                  - userTableA39440AD
                  - Arn
              - Fn::Join:
                  - ""
                  - - Fn::GetAtt:
                        - clientTable0633AF8C
                        - Arn
                    - /index/*
              - Fn::Join:
                  - ""
                  - - Fn::GetAtt:
                        - respondentSurveyTable4D3A03D0
                        - Arn
                    - /index/*
              - Fn::Join:
                  - ""
                  - - Fn::GetAtt:
                        - surveyTypeTable194BDCE8
                        - Arn
                    - /index/*
              - Fn::Join:
                  - ""
                  - - Fn::GetAtt:
                        - userTableA39440AD
                        - Arn
                    - /index/*
        Version: "2012-10-17"
      PolicyName: SendEmailLambdaServiceRoleDefaultPolicy9958C1A3
      Roles:
        - Ref: SendEmailLambdaServiceRole2E973985
    Metadata:
      aws:cdk:path: OdAppCdkStack/SendEmailLambda/ServiceRole/DefaultPolicy/Resource
  SendEmailLambdaA364B1D1:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket:
          Fn::Sub: cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}
        S3Key: cc5884a1a4bab57740935140b608f65eecae069895b0244320605a0977bc4a3d.zip
      Environment:
        Variables:
          CLIENTS_TABLE:
            Ref: clientTable0633AF8C
          RESPONSES_TABLE:
            Ref: responseTableBBB69578
          RESPONSE_SETS_TABLE:
            Ref: responseSetTableE1D8A92E
          SURVEY_TYPES_TABLE:
            Ref: surveyTypeTable194BDCE8
          RESPONDENTS_TABLE:
            Ref: respondentTable265E52D3
          USERS_TABLE:
            Ref: userTableA39440AD
          RESPONDENT_SURVEY_TABLE:
            Ref: respondentSurveyTable4D3A03D0
      Handler: dist/send-emails.handler
      MemorySize: 128
      Role:
        Fn::GetAtt:
          - SendEmailLambdaServiceRole2E973985
          - Arn
      Runtime: nodejs18.x
      Timeout: 30
    DependsOn:
      - SendEmailLambdaServiceRoleDefaultPolicy9958C1A3
      - SendEmailLambdaServiceRole2E973985
    Metadata:
      aws:cdk:path: OdAppCdkStack/SendEmailLambda/Resource
      aws:asset:path: asset.cc5884a1a4bab57740935140b608f65eecae069895b0244320605a0977bc4a3d
      aws:asset:is-bundled: false
      aws:asset:property: Code
  PublicResponseSetsHandlerServiceRole96A8A81E:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: "2012-10-17"
      ManagedPolicyArns:
        - Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - :iam::aws:policy/service-role/AWSLambdaBasicExecutionRole
    Metadata:
      aws:cdk:path: OdAppCdkStack/PublicResponseSetsHandler/ServiceRole/Resource
  PublicResponseSetsHandlerServiceRoleDefaultPolicy2E21FC79:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action: dynamodb:*
            Effect: Allow
            Resource:
              - Fn::GetAtt:
                  - clientTable0633AF8C
                  - Arn
              - Fn::GetAtt:
                  - respondentTable265E52D3
                  - Arn
              - Fn::GetAtt:
                  - responseSetTableE1D8A92E
                  - Arn
              - Fn::GetAtt:
                  - responseTableBBB69578
                  - Arn
              - Fn::GetAtt:
                  - surveyTypeTable194BDCE8
                  - Arn
              - Fn::GetAtt:
                  - userTableA39440AD
                  - Arn
              - Fn::Join:
                  - ""
                  - - Fn::GetAtt:
                        - clientTable0633AF8C
                        - Arn
                    - /index/*
              - Fn::Join:
                  - ""
                  - - Fn::GetAtt:
                        - surveyTypeTable194BDCE8
                        - Arn
                    - /index/*
              - Fn::Join:
                  - ""
                  - - Fn::GetAtt:
                        - userTableA39440AD
                        - Arn
                    - /index/*
        Version: "2012-10-17"
      PolicyName: PublicResponseSetsHandlerServiceRoleDefaultPolicy2E21FC79
      Roles:
        - Ref: PublicResponseSetsHandlerServiceRole96A8A81E
    Metadata:
      aws:cdk:path: OdAppCdkStack/PublicResponseSetsHandler/ServiceRole/DefaultPolicy/Resource
  PublicResponseSetsHandler73999312:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket:
          Fn::Sub: cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}
        S3Key: cc5884a1a4bab57740935140b608f65eecae069895b0244320605a0977bc4a3d.zip
      Environment:
        Variables:
          CLIENTS_TABLE:
            Ref: clientTable0633AF8C
          RESPONSES_TABLE:
            Ref: responseTableBBB69578
          RESPONSE_SETS_TABLE:
            Ref: responseSetTableE1D8A92E
          SURVEY_TYPES_TABLE:
            Ref: surveyTypeTable194BDCE8
          RESPONDENTS_TABLE:
            Ref: respondentTable265E52D3
          USERS_TABLE:
            Ref: userTableA39440AD
          RESPONDENT_SURVEY_TABLE:
            Ref: respondentSurveyTable4D3A03D0
      Handler: dist/public-response-sets.handler
      Role:
        Fn::GetAtt:
          - PublicResponseSetsHandlerServiceRole96A8A81E
          - Arn
      Runtime: nodejs18.x
      Timeout: 30
    DependsOn:
      - PublicResponseSetsHandlerServiceRoleDefaultPolicy2E21FC79
      - PublicResponseSetsHandlerServiceRole96A8A81E
    Metadata:
      aws:cdk:path: OdAppCdkStack/PublicResponseSetsHandler/Resource
      aws:asset:path: asset.cc5884a1a4bab57740935140b608f65eecae069895b0244320605a0977bc4a3d
      aws:asset:is-bundled: false
      aws:asset:property: Code
  ResponsesHandlerServiceRole0C721286:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: "2012-10-17"
      ManagedPolicyArns:
        - Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - :iam::aws:policy/service-role/AWSLambdaBasicExecutionRole
    Metadata:
      aws:cdk:path: OdAppCdkStack/ResponsesHandler/ServiceRole/Resource
  ResponsesHandlerServiceRoleDefaultPolicy642E67F9:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - dynamodb:BatchGetItem
              - dynamodb:BatchWriteItem
              - dynamodb:ConditionCheckItem
              - dynamodb:DeleteItem
              - dynamodb:DescribeTable
              - dynamodb:GetItem
              - dynamodb:GetRecords
              - dynamodb:GetShardIterator
              - dynamodb:PutItem
              - dynamodb:Query
              - dynamodb:Scan
              - dynamodb:UpdateItem
            Effect: Allow
            Resource:
              Fn::GetAtt:
                - responseTableBBB69578
                - Arn
        Version: "2012-10-17"
      PolicyName: ResponsesHandlerServiceRoleDefaultPolicy642E67F9
      Roles:
        - Ref: ResponsesHandlerServiceRole0C721286
    Metadata:
      aws:cdk:path: OdAppCdkStack/ResponsesHandler/ServiceRole/DefaultPolicy/Resource
  ResponsesHandler81FBDAA4:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket:
          Fn::Sub: cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}
        S3Key: cc5884a1a4bab57740935140b608f65eecae069895b0244320605a0977bc4a3d.zip
      Environment:
        Variables:
          CLIENTS_TABLE:
            Ref: clientTable0633AF8C
          RESPONSES_TABLE:
            Ref: responseTableBBB69578
          RESPONSE_SETS_TABLE:
            Ref: responseSetTableE1D8A92E
          SURVEY_TYPES_TABLE:
            Ref: surveyTypeTable194BDCE8
          RESPONDENTS_TABLE:
            Ref: respondentTable265E52D3
          USERS_TABLE:
            Ref: userTableA39440AD
          RESPONDENT_SURVEY_TABLE:
            Ref: respondentSurveyTable4D3A03D0
      Handler: dist/responses.handler
      Role:
        Fn::GetAtt:
          - ResponsesHandlerServiceRole0C721286
          - Arn
      Runtime: nodejs18.x
      Timeout: 30
    DependsOn:
      - ResponsesHandlerServiceRoleDefaultPolicy642E67F9
      - ResponsesHandlerServiceRole0C721286
    Metadata:
      aws:cdk:path: OdAppCdkStack/ResponsesHandler/Resource
      aws:asset:path: asset.cc5884a1a4bab57740935140b608f65eecae069895b0244320605a0977bc4a3d
      aws:asset:is-bundled: false
      aws:asset:property: Code
  RDSLambdaHandlerServiceRole5A2ED0C3:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: "2012-10-17"
      ManagedPolicyArns:
        - Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - :iam::aws:policy/service-role/AWSLambdaBasicExecutionRole
    Metadata:
      aws:cdk:path: OdAppCdkStack/RDSLambdaHandler/ServiceRole/Resource
  RDSLambdaHandlerE0D05D2B:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket:
          Fn::Sub: cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}
        S3Key: 471473b2a79da697020aceb965013d75a911a82adaa54b2723517add660c7963.zip
      Environment:
        Variables:
          RDS_HOST: od-reports.c9omk2ykqhw3.ap-southeast-2.rds.amazonaws.com
          RDS_PORT: "5432"
          RDS_USER: postgres
          RDS_PASSWORD: bJn0TyYc4Jn54Bhu7dkt
          RDS_DATABASE: survey_db
      Handler: rds.lambda_handler
      MemorySize: 128
      Role:
        Fn::GetAtt:
          - RDSLambdaHandlerServiceRole5A2ED0C3
          - Arn
      Runtime: python3.12
      Timeout: 480
    DependsOn:
      - RDSLambdaHandlerServiceRole5A2ED0C3
    Metadata:
      aws:cdk:path: OdAppCdkStack/RDSLambdaHandler/Resource
      aws:asset:path: asset.471473b2a79da697020aceb965013d75a911a82adaa54b2723517add660c7963
      aws:asset:is-bundled: true
      aws:asset:property: Code
  RDSResponseHandlerServiceRole0D9AF8E0:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: "2012-10-17"
      ManagedPolicyArns:
        - Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - :iam::aws:policy/service-role/AWSLambdaBasicExecutionRole
    Metadata:
      aws:cdk:path: OdAppCdkStack/RDSResponseHandler/ServiceRole/Resource
  RDSResponseHandlerServiceRoleDefaultPolicy44960441:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action: dynamodb:*
            Effect: Allow
            Resource:
              - Fn::GetAtt:
                  - clientTable0633AF8C
                  - Arn
              - Fn::GetAtt:
                  - respondentTable265E52D3
                  - Arn
              - Fn::GetAtt:
                  - responseSetTableE1D8A92E
                  - Arn
              - Fn::GetAtt:
                  - responseTableBBB69578
                  - Arn
              - Fn::GetAtt:
                  - surveyTypeTable194BDCE8
                  - Arn
              - Fn::GetAtt:
                  - userTableA39440AD
                  - Arn
              - Fn::Join:
                  - ""
                  - - Fn::GetAtt:
                        - clientTable0633AF8C
                        - Arn
                    - /index/*
              - Fn::Join:
                  - ""
                  - - Fn::GetAtt:
                        - surveyTypeTable194BDCE8
                        - Arn
                    - /index/*
              - Fn::Join:
                  - ""
                  - - Fn::GetAtt:
                        - userTableA39440AD
                        - Arn
                    - /index/*
        Version: "2012-10-17"
      PolicyName: RDSResponseHandlerServiceRoleDefaultPolicy44960441
      Roles:
        - Ref: RDSResponseHandlerServiceRole0D9AF8E0
    Metadata:
      aws:cdk:path: OdAppCdkStack/RDSResponseHandler/ServiceRole/DefaultPolicy/Resource
  RDSResponseHandlerC35B91EA:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket:
          Fn::Sub: cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}
        S3Key: cc5884a1a4bab57740935140b608f65eecae069895b0244320605a0977bc4a3d.zip
      Environment:
        Variables:
          CLIENTS_TABLE:
            Ref: clientTable0633AF8C
          RESPONSES_TABLE:
            Ref: responseTableBBB69578
          RESPONSE_SETS_TABLE:
            Ref: responseSetTableE1D8A92E
          SURVEY_TYPES_TABLE:
            Ref: surveyTypeTable194BDCE8
          RESPONDENTS_TABLE:
            Ref: respondentTable265E52D3
          USERS_TABLE:
            Ref: userTableA39440AD
          RESPONDENT_SURVEY_TABLE:
            Ref: respondentSurveyTable4D3A03D0
      Handler: dist/rds-responses.handler
      MemorySize: 328
      Role:
        Fn::GetAtt:
          - RDSResponseHandlerServiceRole0D9AF8E0
          - Arn
      Runtime: nodejs18.x
      Timeout: 120
    DependsOn:
      - RDSResponseHandlerServiceRoleDefaultPolicy44960441
      - RDSResponseHandlerServiceRole0D9AF8E0
    Metadata:
      aws:cdk:path: OdAppCdkStack/RDSResponseHandler/Resource
      aws:asset:path: asset.cc5884a1a4bab57740935140b608f65eecae069895b0244320605a0977bc4a3d
      aws:asset:is-bundled: false
      aws:asset:property: Code
  CDKMetadata:
    Type: AWS::CDK::Metadata
    Properties:
      Analytics: v2:deflate64:H4sIAAAAAAAA/11S0W7bMAz8lrwrapMOwx6XpthQYMMMd9trIUtMzEQWDYtqYAj+90GyPbt94h15Phxp7eXu817G3Ubd/Fab69ZiJeMLK30V6uZfoyYDmpoGWcYSWvLI1PXieHILGwS8gWMvYxks5FmwMAj/IONj0Ffg1JvQWAqyqPulPfGRPCoPg9CWgjl15FjGJ/TcYRUYyaWP3nOla1gMV3QQms4OmWQ8ntyzAcfIfUFkxQdekoUDs9J1A47FHw/dLPuPZ3C0mDSr0dgZBKpGxmSVb5DqEmtOZHqnGjKVjL9VZSHtKjL6u0+y75YqZXMjpTfQYgsWHchYTCi7TXjUVAGtWQRFRxfQOeEEB2FVUxkl47fg9HzFNS6ga9B7JJf+26vyHtjLQypCtXhWDDfVy/gj+5Tg+dDi+AxG+AStpb6ZLrNiL6zOOfMISvAUOj0u/hO4JpOGE5qnk3PGw/Cu/StwG1jkaMkS3Xmtzk+AnEHOu+y2yra1kvebr9MTv0t1PMe27bkmN0mKTOajDMKRAXnxd2+7L3J/Lz9tLh5x2wXH2IAsx/oPAjYkgkEDAAA=
    Metadata:
      aws:cdk:path: OdAppCdkStack/CDKMetadata/Default
    Condition: CDKMetadataAvailable
Outputs:
  SurveyWebsiteURL:
    Description: The URL of the survey website
    Value:
      Fn::GetAtt:
        - WebsiteDistribution75DCDA0B
        - DomainName
  ReportWebsiteURL:
    Description: The URL of the report website
    Value:
      Fn::GetAtt:
        - ReportDistributionEE40F2D5
        - DomainName
  UserPoolId:
    Value:
      Ref: UserPoolReportEC8F0E3F
  UserPoolClientId:
    Value:
      Ref: UserPoolReportClientC36E0A6B
  reportWebsiteURL:
    Value:
      Fn::GetAtt:
        - ReportDistributionEE40F2D5
        - DomainName
  reportWebsiteBucket:
    Value:
      Ref: ReportBucket577F0FCD
  SharedApiEndpointEE503772:
    Value:
      Fn::Join:
        - ""
        - - https://
          - Ref: SharedApi9DD7A97D
          - .execute-api.
          - Ref: AWS::Region
          - "."
          - Ref: AWS::URLSuffix
          - /
          - Ref: SharedApiDeploymentStageprod267E5D0B
          - /
  ApiUrl:
    Value:
      Fn::Join:
        - ""
        - - https://
          - Ref: SharedApi9DD7A97D
          - .execute-api.
          - Ref: AWS::Region
          - "."
          - Ref: AWS::URLSuffix
          - /
          - Ref: SharedApiDeploymentStageprod267E5D0B
          - /
  tables:
    Value:
      Fn::Join:
        - ""
        - - '{"ClientTable":"'
          - Ref: clientTable0633AF8C
          - '","RespondentTable":"'
          - Ref: respondentTable265E52D3
          - '","ResponseSetTable":"'
          - Ref: responseSetTableE1D8A92E
          - '","SurveyTypeTable":"'
          - Ref: surveyTypeTable194BDCE8
          - '","ResponseTable":"'
          - Ref: responseTableBBB69578
          - '","UserTable":"'
          - Ref: userTableA39440AD
          - '"}'
Conditions:
  CDKMetadataAvailable:
    Fn::Or:
      - Fn::Or:
          - Fn::Equals:
              - Ref: AWS::Region
              - af-south-1
          - Fn::Equals:
              - Ref: AWS::Region
              - ap-east-1
          - Fn::Equals:
              - Ref: AWS::Region
              - ap-northeast-1
          - Fn::Equals:
              - Ref: AWS::Region
              - ap-northeast-2
          - Fn::Equals:
              - Ref: AWS::Region
              - ap-northeast-3
          - Fn::Equals:
              - Ref: AWS::Region
              - ap-south-1
          - Fn::Equals:
              - Ref: AWS::Region
              - ap-south-2
          - Fn::Equals:
              - Ref: AWS::Region
              - ap-southeast-1
          - Fn::Equals:
              - Ref: AWS::Region
              - ap-southeast-2
          - Fn::Equals:
              - Ref: AWS::Region
              - ap-southeast-3
      - Fn::Or:
          - Fn::Equals:
              - Ref: AWS::Region
              - ap-southeast-4
          - Fn::Equals:
              - Ref: AWS::Region
              - ca-central-1
          - Fn::Equals:
              - Ref: AWS::Region
              - ca-west-1
          - Fn::Equals:
              - Ref: AWS::Region
              - cn-north-1
          - Fn::Equals:
              - Ref: AWS::Region
              - cn-northwest-1
          - Fn::Equals:
              - Ref: AWS::Region
              - eu-central-1
          - Fn::Equals:
              - Ref: AWS::Region
              - eu-central-2
          - Fn::Equals:
              - Ref: AWS::Region
              - eu-north-1
          - Fn::Equals:
              - Ref: AWS::Region
              - eu-south-1
          - Fn::Equals:
              - Ref: AWS::Region
              - eu-south-2
      - Fn::Or:
          - Fn::Equals:
              - Ref: AWS::Region
              - eu-west-1
          - Fn::Equals:
              - Ref: AWS::Region
              - eu-west-2
          - Fn::Equals:
              - Ref: AWS::Region
              - eu-west-3
          - Fn::Equals:
              - Ref: AWS::Region
              - il-central-1
          - Fn::Equals:
              - Ref: AWS::Region
              - me-central-1
          - Fn::Equals:
              - Ref: AWS::Region
              - me-south-1
          - Fn::Equals:
              - Ref: AWS::Region
              - sa-east-1
          - Fn::Equals:
              - Ref: AWS::Region
              - us-east-1
          - Fn::Equals:
              - Ref: AWS::Region
              - us-east-2
          - Fn::Equals:
              - Ref: AWS::Region
              - us-west-1
      - Fn::Equals:
          - Ref: AWS::Region
          - us-west-2
Parameters:
  BootstrapVersion:
    Type: AWS::SSM::Parameter::Value<String>
    Default: /cdk-bootstrap/hnb659fds/version
    Description: Version of the CDK Bootstrap resources in this environment, automatically retrieved from SSM Parameter Store. [cdk:skip]

